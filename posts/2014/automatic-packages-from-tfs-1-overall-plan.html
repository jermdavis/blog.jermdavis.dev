<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' www.youtube.com *.twitter.com unpkg.com www.googletagmanager.com *.google-analytics.com *.twimg.com; img-src 'self' data: *;style-src 'self' 'unsafe-inline' *.twitter.com *.twimg.com">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="canonical" href="https://blog.jermdavis.dev/posts/2014/automatic-packages-from-tfs-1-overall-plan">
		<meta name="description" content="Recently I posted <a href=&quot;/posts/2014/what-did-i-need-to-deploy-again&quot; target=&quot;_blank&quot;>an idea for a PowerShell script to extract the set of changed items in TFS needing deployment</a> for a Sitecore project. I left the script at the stage where it gave a list of the files to package, but didn't actually give you a package definition.
Having done a bit more thinking about how that might be achieved, I've decided that it's probably worth a series of posts as creating a sensible solution to the problem seems a bit too complex for a script and a single post.
So for this first post, I'll sketch out the problem I want to solve and look at some of the basic code if will require. I'll flesh out the code an implementation over the rest of the posts – but I'm not sure how many there will be at this point... ">
		<meta property="og:description" content="Recently I posted <a href=&quot;/posts/2014/what-did-i-need-to-deploy-again&quot; target=&quot;_blank&quot;>an idea for a PowerShell script to extract the set of changed items in TFS needing deployment</a> for a Sitecore project. I left the script at the stage where it gave a list of the files to package, but didn't actually give you a package definition.
Having done a bit more thinking about how that might be achieved, I've decided that it's probably worth a series of posts as creating a sensible solution to the problem seems a bit too complex for a script and a single post.
So for this first post, I'll sketch out the problem I want to solve and look at some of the basic code if will require. I'll flesh out the code an implementation over the rest of the posts – but I'm not sure how many there will be at this point... ">
		<meta name="keywords" content="Sitecore, Team Foundation Server, Packages">
		<meta name="author" content="Jeremy Davis">
		<meta name="copyright" content="Jeremy Davis">
		<title>Jeremy Davis - Automatic packages from TFS: #1 - Overall&nbsp;plan</title>
		<meta name="robots" content="index, follow">
		<link type="application/rss+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.rss">
		<link type="application/atom+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.atom">
		<meta name="application-name" content="Jeremy Davis">
		<meta name="msapplication-tooltip" content="Jeremy Davis">
		<meta name="msapplication-starturl" content="/">
		<link rel="manifest" href="/manifest.webmanifest">
		<meta property="og:title" content="Jeremy Davis - Automatic packages from TFS: #1 - Overall&amp;#xA0;plan">
		<meta property="og:publish_date" content="2014-08-04T00:00:00+00:00">
		<meta property="og:modified_date" content="2016-08-25T00:00:00+00:00">
		<meta property="og:image" content="https://blog.jermdavis.dev/img/featured/automatic-packages-from-tfs-1-overall-plan-social.jpg?">
		<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Automatic packages from TFS: #1 - Overall&#xA0;plan",
        "image": [
            "https://blog.jermdavis.dev/img/featured/automatic-packages-from-tfs-1-overall-plan-social.jpg"
        ],
        "datePublished": "2014-08-04T00:00:00+00:00",
        "dateModified": "2016-08-25T00:00:00+00:00",
        "author": [{
            "@type": "Person",
            "name": "Jeremy Davis",
            "url": "https://jermdavis.dev/"
        }]
    }
    
		</script>
		<meta property="og:url" content="https://blog.jermdavis.dev/posts/2014/automatic-packages-from-tfs-1-overall-plan">
		<meta property="og:type" content="website">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
		<link href="/scss/tailwind.css" rel="stylesheet">
		<link href="/vendor/Enlighter/enlighterjs.min.css" rel="stylesheet">
		<link href="/scss/site-theme.css" rel="stylesheet">
		<script src="/vendor/Cookies/cookies.min.js" defer=""></script>
	</head>
	<body class="max-w-7xl mx-auto text-black">
		<div class="relative bg-white" x-data="{ open: false }">
			
			<!-- desktop -->
			<div class="px-4 lg:px-6 bg-gray-100">
				<div class="bannerContainer flex justify-between items-center border-b-2 border-gray-100 py-6 lg:justify-start lg:space-x-10">
					<div class="flex justify-start lg:w-0 flex-1">
						<a href="/">
							<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
						</a>
						<div class="mx-2">
							<div class="text-3xl">Jeremy Davis</div>
							<div class="text-lg">Sitecore, C# and web development</div>
						</div>
					</div>
					<div class="nav -mr-2 -my-2 lg:hidden">
						<button @click="open = true" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
							<span class="sr-only">Open menu</span>
							
							<!-- Heroicon name: outline/menu -->
							<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
							</svg>
						</button>
					</div>
					<nav class="nav hidden lg:flex space-x-10">
						<a class="text-base font-medium" href="/posts">Posts</a>
						<a class="text-base font-medium" href="/tags">Tags</a>
						<a class="text-base font-medium" href="/about">About</a>
						<a class="text-base font-medium" href="/links">Useful Links</a>
						<a class="text-base font-medium" href="/mvp">MVP</a>
					</nav>
				</div>
			</div>
			
			<!--Mobile menu, show/hide based on mobile menu state.-->
			<div class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right lg:hidden z-50">
				<div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50" x-show="open" x-transition="">
					<div class="pt-5 pb-6 px-5">
						<div class="flex items-center justify-between">
							<div class="flex">
								<a href="/">
									<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
								</a>
								<div class="mx-2">
									<div class="text-2xl">Jeremy Davis</div>
									<div class="text-base">Sitecore, C# and web development</div>
								</div>
							</div>
							<div class="nav -mr-2">
								<button @click="open = false" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
									<span class="sr-only">Close menu</span>
									
									<!-- Heroicon name: outline/x -->
									<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
									</svg>
								</button>
							</div>
						</div>
					</div>
					<div class="nav py-6 px-5 pt-0">
						<nav class=" gap-x-8">
							<a class="block mt-5 text-base font-medium" href="/posts">Posts</a>
							<a class="block mt-5 text-base font-medium" href="/tags">Tags</a>
							<a class="block mt-5 text-base font-medium" href="/about">About</a>
							<a class="block mt-5 text-base font-medium" href="/links">Useful Links</a>
							<a class="block mt-5 text-base font-medium" href="/mvp">MVP</a>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<header class="bg-gray-300 px-4 py-1 lg:px-6 text-center" style="">
			<div class="post-heading">
				<div class="url p-1 bg-gray-100 rounded-md">Article printed from:
					<tt>https://blog.jermdavis.dev/posts/2014/automatic-packages-from-tfs-1-overall-plan</tt>
				</div>
				<h1 class="text-5xl mb-4 pb-1">
					Automatic packages from TFS: #1 - Overall&nbsp;plan
				</h1>
				<div class="meta">Published 04 August 2014</div>
				<div class="meta">Updated 25 August 2016</div>
				<div class="flex py-1">
					<a href="/tags/sitecore/" class="p-1 mr-1 bg-gray-100 rounded-md">
						Sitecore</a>
					<a href="/tags/team-foundation-server/" class="p-1 mr-1 bg-gray-100 rounded-md">
						Team Foundation Server</a>
					<a href="/tags/packages/" class="p-1 mr-1 bg-gray-100 rounded-md">
						Packages</a>
				</div>
			</div>
		</header>
		<div class="py-2 lg:pl-3">
			<div class="lg:flex">
				<div class="lg:flex-auto mx-3 lg:min-w-0 content">
					<blockquote>
						<h4>This post 1 of 5 in a series titled
							<i>Automatic packages from TFS</i>
						</h4>
						<ul>
							<li>Automatic packages from TFS: #1 - Overall&nbsp;plan</li>
							<li>
								<a href="/posts/2014/automatic-packages-from-tfs-2-so-how-can-i-write-a-package-file">Automatic packages from TFS: #2 – So how can I write a package&nbsp;file?</a>
							</li>
							<li>
								<a href="/posts/2014/automatic-packages-from-tfs-3-pipelines-and-data-transformation">Automatic packages from TFS: #3 – Pipelines and data&nbsp;transformation</a>
							</li>
							<li>
								<a href="/posts/2014/automatic-packages-from-tfs-4-pipeline-component-internals">Automatic packages from TFS: #4 – Pipeline component&nbsp;internals</a>
							</li>
							<li>
								<a href="/posts/2014/automatic-packages-from-tfs-5-wrap-up">Automatic packages from TFS: #5 – Wrap&nbsp;up</a>
							</li>
						</ul>
					</blockquote>
					<p>Recently I posted
						<a href="/posts/2014/what-did-i-need-to-deploy-again" target="_blank">an idea for a PowerShell script to extract the set of changed items in TFS needing deployment</a>
						for a Sitecore project. I left the script at the stage where it gave a list of the files to package, but didn't actually give you a package definition.</p>
					<p>Having done a bit more thinking about how that might be achieved, I've decided that it's probably worth a series of posts as creating a sensible solution to the problem seems a bit too complex for a script and a single post.</p>
					<p>So for this first post, I'll sketch out the problem I want to solve and look at some of the basic code if will require. I'll flesh out the code an implementation over the rest of the posts – but I'm not sure how many there will be at this point... 
						<!--more-->
					</p>
					<h2>Requirements</h2>
					<p>I want to put together a tool which can be run either manually by a developer, or automatically by a build server. It should make use of the ChangeSet history in Team Foundation Server to determine the set of files, binaries and Sitecore Items which have changed and require deployment, and use that data to generate a standard Sitecore Package Definition file. It should be configurable, so that it can work with different projects that do not necessarily share the same underlying structure and processes. And it should avoid having any direct references to Sitecore itself, so it can be run without an instance of Sitecore available.</p>
					<p>At this point, I'm thinking the tool needs to be implemented roughly as follows:</p>
					<ul>
						<li>Built as a command line executable</li>
						<li>Settings come from the parameters passed and/or a configuration file</li>
						<li>Read the changes from TFS as per the previous script</li>
						<li>Pass the set of changes through a pipeline process</li>
						<li>Pipeline components for "filter out unwanted files", "find files to deploy", "find binaries to deploy", "find items to deploy" and perhaps other tasks</li>
						<li>The output of the pipeline is data representing the package definition</li>
						<li>Save the package definition as an XML file</li>
					</ul>
					<p>[My usual caveat that the code examples here miss out error handling and so on, in order to stay readable. Plus, in this case, I've not finished the code yet, so there's a good chance of it evolving a bit between posts]</p>
					<p>So, to implementation:</p>
					<h2>Parsing the command line</h2>
					<p>If a tool is going to read command line parameters, it makes sense to re-use some pre-existing code for dealing with parsing them. A useful tool I've used for this before is
						<a href="http://commandlinearguments.codeplex.com/SourceControl/latest#CommandLineArguments.cs" title="Command Line Arguments parser" target="_blank" rel="noopener noreferrer">this argument parser class from Peter Hallam @ Microsoft</a>. Adding this class into the project allows us to define the arguments we want to parse in terms of a C# class that will represent the resultant data. We need to be able to specify the following options:</p>
					<pre class="code" data-enlighter-language="csharp" style="width:100%; overflow:scroll;">public class CommandLineParameters
{
    [Argument(ArgumentType.Required | ArgumentType.AtMostOnce, HelpText = "Starting changeset number", ShortName = "s", LongName = "start")]
    public int StartChangeSet;

    [Argument(ArgumentType.Required | ArgumentType.AtMostOnce, HelpText="The TFS working folder to process", ShortName="w", LongName="workingfolder")]
    public string WorkingFolder;

    [Argument(ArgumentType.AtMostOnce, HelpText = "Ending changeset number", ShortName = "e", LongName = "end", DefaultValue = -1)]
    public int EndChangeSet;

    [Argument(ArgumentType.AtMostOnce, HelpText = "The file name for the generated package", ShortName = "p", LongName = "package", DefaultValue = "GeneratedPackage.xml")]
    public string PackageFileName;

    [Argument(ArgumentType.AtMostOnce, HelpText = "The name for the package", ShortName = "n", LongName = "name", DefaultValue = "GeneratedPackage")]
    public string PackageName;
}

					</pre>
					<p>The
						<code>Argument</code>
						attribute marks these fields as being parameters which can be parsed from the command line. You can do the parsing using the following code:</p>
					<pre class="code" data-enlighter-language="csharp" style="width:100%; overflow:scroll;">static void Main(string[] args)
{
    CommandLineParameters cp = new CommandLineParameters();
    if (CommandLine.Parser.ParseArgumentsWithUsage(args, cp))
    {
        // parse succeeded - process your parameters
    }
}

					</pre>
					<p>The parser will compare the arguments passed to the program against the attributes defined on the
						<code>CommandLineParameters</code>
						class. If they can be matched up, then the instance of this class is populated with the data, and the
						<code>if()</code>
						will pass, allowing the app to continue working. But if the data doesn't match the attributes then a usage error is generated automatically. For example:</p>
					<p>
						<a href="/img/2014/2014-08-parsefailed.png" target="_blank">
							<img alt="Parse Failed" src="/img/2014/2014-08-parsefailed.png">
						</a>
					</p>
					<h2>Getting the TFS changes</h2>
					<p>With the parameters parsed, the next thing to do is fetch the TFS changes. This can be done using a similar pattern to the approach from the PowerShell script – but using a more C# friendly way of executing the external tool. Plus, in this version we'll allow for both the first and last changeset to process (as per the configuration above) The class to manage the TFS interaction is as follows:</p>
					<pre class="code" data-enlighter-language="csharp" style="width:100%; overflow:scroll;">public class TFSCommandLine
{
    private string _toolPath = @"c:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\TF.exe";
    private string _argumentTemplate = @"history .\ /recursive /format:detailed /noprompt /version:{0}";

    public IDictionary&lt;string, TFSActions&gt; ProcessWorkItems(string workingFolder, int firstChange, int lastChange)
    {
        var output = runTool(workingFolder, firstChange, lastChange);
        var filteredOutput = filterOutput(output);

        return parse(filteredOutput);
    }

    private string runTool(string workingFolder, int firstChange, int lastChange)
    {
        string output;

        using (Process p = new Process())
        {
            p.StartInfo.UseShellExecute = false;
            p.StartInfo.RedirectStandardOutput = true;
            p.StartInfo.FileName = _toolPath;
            p.StartInfo.Arguments = string.Format(_argumentTemplate, formatVersionString(firstChange, lastChange));
            p.StartInfo.WorkingDirectory = workingFolder;
            p.StartInfo.CreateNoWindow = false;

            p.Start();
            output = p.StandardOutput.ReadToEnd();
            p.WaitForExit();
        }

        return output;
    }

    private string formatVersionString(int firstChange, int lastChange)
    {
        string first = "C" + firstChange.ToString();

        string last = string.Empty;
        if (lastChange != -1)
        {
            last = "C" + lastChange.ToString();
        }

        return first + "~" + last;
    }

    private IEnumerable&lt;string&gt; filterOutput(string output)
    {
        var items = output
            .Split('\n')
            .Select(i =&gt; i.Trim())
            .Where(i =&gt;
                i.StartsWith("edit", StringComparison.InvariantCultureIgnoreCase) ||
                i.StartsWith("add", StringComparison.InvariantCultureIgnoreCase) ||
                i.StartsWith("delete", StringComparison.InvariantCultureIgnoreCase));

        return items;
    }

    private IDictionary&lt;string, TFSActions&gt; parse(IEnumerable&lt;string&gt; input)
    {
        char[] splitter = {'$'};

        Dictionary&lt;string, TFSActions&gt; results = new Dictionary&lt;string, TFSActions&gt;();

        var items = input.Select(i =&gt; i.Split(splitter, StringSplitOptions.RemoveEmptyEntries));

        foreach (var item in items)
        {
            string path = item[1];
            TFSActions action = (TFSActions)Enum.Parse(typeof(TFSActions), item[0].Trim(), true);

            if (results.ContainsKey(path))
            {
                results[path] = results[path] | action;
            }
            else
            {
                results.Add(path, action);
            }
        }

        return results;
    }
}

					</pre>
					<p>The entry point here is the
						<code>ProcessWorkItems()</code>. This calls the three private methods to extract the data from TFS, catch just the lines of that output which represent changes, and then parse these lines into the data that gets returned.</p>
					<p>So first the call to
						<code>runTool()</code>
						runs the external
						<code>tf.exe</code>
						process. It sets up an instance of the .Net Framework's
						<code>Process</code>
						type as a wrapper to execute the external tool. At present the location of
						<code>tf.exe</code>
						is hard coded - but I plan to move that into a configuration settings later. The working directory for the process is set to the TFS Working Folder we want to process. And the code calculates the arguments to pass to the tool based on the first and last changes specified. The
						<code>formatVersionString()</code>
						method works out the correct string to pass to
						<code>tf.exe</code>
						to specify the version range required. And finally, it reads the Standard Output stream for this process into a string in order to capture the data we're going to process.</p>
					<p>Then
						<code>filterOutput</code>
						is run over the string that's been captured. This does exactly the same thing that we did in PowerShell – breaking the string into lines, and keeping only the ones that represent a TFS change operation. And we end up with a list of strings representing changes.</p>
					<p>Finally we call
						<code>parse()</code>
						to process those strings. Again, this works in much the same way that the PowerShell script did - but instead of storing the individual actions as strings the code is using an enumeration:</p>
					<pre class="code" data-enlighter-language="csharp" style="width:100%; overflow:scroll;">[Flags]
public enum TFSActions
{
    None = 0,
    Add = 1,
    Edit = 2,
    Delete = 4
}

					</pre>
					<p>So the code splits each of the lines received to get a path and an action, and it builds a dictionary keyed on the paths, and storing the set of actions associated with that path.</p>
					<p>I'm thinking that as this code evolves, it may be useful to make the implementation of this class (specifically how it fetches the data) replaceable. I know it's possible to talk to TFS via an API rather than the command line. It may also be useful to be able to read test data to process without having a connection to TFS available – for automated tests perhaps. But that's a topic for a future post, perhaps.</p>
					<h2>Processing the data</h2>
					<p>The pattern I want to use for processing the data from TFS is a pipeline model. I'll talk about the implementation of this in a future post in this series, I think. But the overall process will be that the Pipeline will take the TFS data object as its input, it will pass this to each of the configured pipeline components and the result will be an object that represents a Package Definition. The code for running it will end up looking something like this:</p>
					<pre class="code" data-enlighter-language="csharp" style="width:100%; overflow:scroll;">CommandLineParameters cp = new CommandLineParameters();
if (CommandLine.Parser.ParseArgumentsWithUsage(args, cp))
{
    TFSCommandLine cmd = new TFSCommandLine();
    var data = cmd.ProcessWorkItems(cp.WorkingFolder, cp.StartChangeSet, cp.EndChangeSet);

    ProcessingPipeline pp = new ProcessingPipeline(cp.PackageName);
    pp.LoadPipelineComponentsFromConfiguration();
    var packageData = pp.Run(data);

    var xml = packageData.Serialise();

    var xws = new System.Xml.XmlWriterSettings();
    xws.OmitXmlDeclaration = true;
    xws.Indent = true;

    using (var xw = System.Xml.XmlWriter.Create(cp.PackageFileName, xws))
    {
        xml.Save(xw);
    }
}

					</pre>
					<p>The command line parameters get parsed, and on success they're passed in to the code to fetch data from TFS. A
						<code>ProcessingPipeline</code>
						object is created, and instructed to load the set of configured components. Then this is given the data from TFS, and after running all the pipeline components over it a package data set is returned. Each pipeline component gets a chance to modify the source data (for example to remove entries that aren't required for packaging, or to transform them into more useful data). The package data object that is generated can then be serialised to XML in the schema used by package definition files and saved to disk. The
						<code>XMLWriterSettings</code>
						is required here, as it turns out that Sitecore doesn't like loading a package definition if it starts with an XML declaration.</p>
					<h2>Next..</h2>
					<p>I've got a bit more thinking to do before the second part of this series, as I want to nail down a prototype of the pipeline implementation and how it will get configured – but I think the next post will either be about the pipelines or about the object to represent and serialise the package data. Watch this space...</p>
				</div>
				<div class="sidebar lg:flex-none lg:w-64 m-0 mt-1 lg:mt-0 lg:p-1 lg:bg-gray-100">
					<section class="mvp">
						<h3 class="bg-gray-300 p-2">Sitecore MVP 2015-2023</h3>
						<div class="bg-white mb-2 p-2">
							<a href="/mvp">
								<img class="lg:mx-auto" src="/img/mvp/2023.png" width="219" height="219" alt="2023 MVP Badge">
							</a>
						</div>
					</section>
					<section>
						<h3 class="bg-gray-300 p-2">Top Tags</h3>
						<div class="bg-white p-2 flex flex-wrap">
							<a href="/tags/sitecore/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Sitecore (216)</a>
							<a href="/tags/c/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								C# (53)</a>
							<a href="/tags/powershell/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								PowerShell (31)</a>
							<a href="/tags/installation/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Installation (23)</a>
							<a href="/tags/solr/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Solr (19)</a>
							<a href="/tags/general/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								General (16)</a>
							<a href="/tags/docker/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Docker (16)</a>
							<a href="/tags/ui/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								UI (15)</a>
							<a href="/tags/containers/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Containers (13)</a>
							<a href="/tags/bug/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Bug (12)</a>
						</div>
						<div class="bg-white mb-2 p-2">
							<a class="" href="/tags" role="button">All Tags
								<i class="fas fa-angle-double-right"></i>
							</a>
						</div>
					</section>
					<section>
						<h3 class="bg-gray-300 p-2">Recent Months</h3>
						<div class="bg-white p-2">
							<div>
								<a class="text-lg" href="/posts/2023-06">2023 - June</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2023-05">2023 - May</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2023-04">2023 - April</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2023-03">2023 - March</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2023-02">2023 - February</a>
							</div>
						</div>
						<div class="bg-white mb-2 p-2">
							<a class="" href="/posts" role="button">All Posts
								<i class="fas fa-angle-double-right"></i>
							</a>
						</div>
					</section>
					<section>
						<h3 class="bg-gray-300 p-2">Socials</h3>
						<div class="bg-white mb-2 p-2">
							<div>
								<a rel="me" target="_blank" href="https://mastodon.social/@jermdavis">Mastodon</a>
							</div>
							<div>
								<a rel="me" target="_blank" href="https://www.linkedin.com/in/djdavis/">LinkedIn</a>
							</div>
							<div>
								<a rel="me" target="_blank" href="https://twitter.com/jermdavis">Twitter</a>
							</div>
						</div>
					</section>
				</div>
			</div>
		</div>
		<footer class="lg:flex order-1 bg-gray-100 px-4 lg:px-6 py-4">
			<div class="flex-1 lg:flex-1 text-center lg:text-left">
				<div>©
					<a target="_blank" class="font-medium" rel="noopener" href="https://jermdavis.dev/">Jeremy Davis</a>
					2014-2023</div>
			</div>
			<div class="lg:flex-1 lg:order-3 text-center lg:text-right">
				<a class="font-medium" href="/tools">Published using Statiq</a>
				<br>
			</div>
			<ul class="list-none lg:flex-1 lg:order-2 p-0 text-center lg:align-middle" style="margin:0px !important">
				<li class="inline-block">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
					</svg>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.rss">RSS</a>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.atom">Atom</a>
				</li>
			</ul>
		</footer>
		<div class="min-h-screen bg-gray-300 py-6 flex flex-col justify-center sm:py-12" x-data="{ hide_banner: true }" x-init="hide_banner = docCookies.hasItem('hide_banner');" x-bind:class="{ 'hidden': hide_banner, 'fixed': !hide_banner }">
			<div class="border-2 border-gray-600 bg-gray-100 max-w-screen-lg mx-auto fixed bg-white inset-x-5 p-5 bottom-10 rounded-lg drop-shadow-2xl flex gap-4 flex-wrap md:flex-nowrap text-center md:text-left items-center justify-center md:justify-between">
				<div class="w-full text-lg">
					<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage" rel="noreferrer" target="_blank">This website uses Google Analytics, and its cookies.</a>
				</div>
				<button type="button" @click="hide_banner = true; docCookies.setItem('hide_banner', true, 'Fri, 31 Dec 9999 23:59:59 GMT', null, null, null, 'strict');" class="bg-gray-400 px-5 py-2 text-white rounded-md hover:bg-gray-600 focus:outline-none" aria-label="Dismiss">Understood</button>
			</div>
		</div>
		<script src="/vendor/Alpine/alpine.3.7.1.min.js" defer=""></script>
		<script src="/vendor/Enlighter/enlighterjs.min.js"></script>
		<script type="text/javascript">
            EnlighterJS.init('pre.code', 'code', {
            theme: 'droide',
            indent : 4,
            linehover : false,
            textOverflow: 'scroll',
            toolbarTop: '',
            toolbarBottom: ''
        });
        
		</script>
		<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JQ44ZR47YX"></script>
		<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JQ44ZR47YX');
    
		</script>
	</body>
</html>