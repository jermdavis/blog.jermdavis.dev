<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' unpkg.com www.googletagmanager.com *.google-analytics.com; img-src 'self' data: *;style-src 'self' 'unsafe-inline'">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="canonical" href="https://blog.jermdavis.dev/posts/2015/nuget-for-dev-instances-2">
		<meta name="description" content="Last week <a href=&quot;/posts/2015/nuget-for-dev-instances-1&quot; target=&quot;_blank&quot;>I started writing up the content from my Sitecore Technical User Group presentation</a> on using NuGet for the easy creation of new development instances. This week I'm continuing that topic, with the next steps for package creation: ">
		<meta property="og:description" content="Last week <a href=&quot;/posts/2015/nuget-for-dev-instances-1&quot; target=&quot;_blank&quot;>I started writing up the content from my Sitecore Technical User Group presentation</a> on using NuGet for the easy creation of new development instances. This week I'm continuing that topic, with the next steps for package creation: ">
		<meta name="keywords" content="NuGet, Sitecore, Installation">
		<meta name="author" content="Jeremy Davis">
		<meta name="copyright" content="Jeremy Davis">
		<title>Jeremy Davis - Using NuGet for Sitecore dev instances: Further files</title>
		<meta name="robots" content="index, follow">
		<link type="application/rss+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.rss">
		<link type="application/atom+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.atom">
		<meta name="application-name" content="Jeremy Davis">
		<meta name="msapplication-tooltip" content="Jeremy Davis">
		<meta name="msapplication-starturl" content="/">
		<link rel="manifest" href="/manifest.webmanifest">
		<meta property="og:type" content="article">
		<meta property="og:title" content="Using NuGet for Sitecore dev instances: Further files [by Jeremy Davis]">
		<meta property="og:publish_date" content="2015-04-27T00:00:00+0000">
		<meta property="article:published_time" content="2015-04-27T00:00:00+0000">
		<meta property="og:modified_date" content="2016-08-25T00:00:00+0000">
		<meta property="article:modified_time" content="2016-08-25T00:00:00+0000">
		<meta property="og:image" content="https://blog.jermdavis.dev/img/featured/nuget-for-dev-instances-2-social.jpg">
		<meta property="og:image:alt" content="Logo image showing post title 'Using NuGet for Sitecore dev instances: Further files' and author 'Jeremy Davis'">
		<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "article",
        "headline": "Using NuGet for Sitecore dev instances: Further files",
        "url": "https://blog.jermdavis.dev/posts/2015/nuget-for-dev-instances-2",
        "image": [
            {
                "@type": "ImageObject",
                "contentUrl": "https://blog.jermdavis.dev/img/featured/nuget-for-dev-instances-2-social.jpg",
                "caption": "Logo image showing post title 'Using NuGet for Sitecore dev instances: Further files' and author 'Jeremy Davis'"
            }
        ],
        "datePublished": "2015-04-27T00:00:00+0000",
        "dateModified": "2016-08-25T00:00:00+0000",
        "author": [{
            "@type": "Person",
            "name": "Jeremy Davis",
            "url": "https://jermdavis.dev/"
        }]
    }
    
		</script>
		<meta property="og:url" content="https://blog.jermdavis.dev/posts/2015/nuget-for-dev-instances-2">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
		<link href="/scss/tailwind.css" rel="stylesheet">
		<link href="/vendor/Enlighter/enlighterjs.min.css" rel="stylesheet">
		<link href="/scss/site-theme.css" rel="stylesheet">
		<script src="/vendor/Cookies/cookies.min.js" defer=""></script>
	</head>
	<body class="max-w-7xl mx-auto text-black" id="top">
		<div id="rp-bar"></div>
		<div class="relative bg-white" x-data="{ open: false }">
			
			<!-- desktop -->
			<div class="px-4 lg:px-6 bg-gray-100">
				<div class="bannerContainer flex justify-between items-center border-b-2 border-gray-100 py-6 lg:justify-start lg:space-x-10">
					<div class="flex justify-start lg:w-0 flex-1">
						<a href="/">
							<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
						</a>
						<div class="mx-2">
							<div class="text-3xl">Jeremy Davis</div>
							<div class="text-lg">Sitecore, C# and web development</div>
						</div>
					</div>
					<div class="nav -mr-2 -my-2 lg:hidden">
						<button @click="open = true" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
							<span class="sr-only">Open menu</span>
							
							<!-- Heroicon name: outline/menu -->
							<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
							</svg>
						</button>
					</div>
					<nav class="nav hidden lg:flex space-x-10">
						<a class="text-base font-medium" href="/posts">Posts</a>
						<a class="text-base font-medium" href="/tags">Tags</a>
						<a class="text-base font-medium" href="/about">About</a>
						<a class="text-base font-medium" href="/links">Useful Links</a>
						<a class="text-base font-medium" href="/mvp">MVP</a>
					</nav>
				</div>
			</div>
			
			<!--Mobile menu, show/hide based on mobile menu state.-->
			<div class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right lg:hidden z-50">
				<div style="display:none;" class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50" x-show="open" x-transition="">
					<div class="pt-5 pb-6 px-5">
						<div class="flex items-center justify-between">
							<div class="flex">
								<a href="/">
									<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
								</a>
								<div class="mx-2">
									<div class="text-2xl">Jeremy Davis</div>
									<div class="text-base">Sitecore, C# and web development</div>
								</div>
							</div>
							<div class="nav -mr-2">
								<button @click="open = false" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
									<span class="sr-only">Close menu</span>
									
									<!-- Heroicon name: outline/x -->
									<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
									</svg>
								</button>
							</div>
						</div>
					</div>
					<div class="nav py-6 px-5 pt-0">
						<nav class=" gap-x-8">
							<a class="block mt-5 text-base font-medium" href="/posts">Posts</a>
							<a class="block mt-5 text-base font-medium" href="/tags">Tags</a>
							<a class="block mt-5 text-base font-medium" href="/about">About</a>
							<a class="block mt-5 text-base font-medium" href="/links">Useful Links</a>
							<a class="block mt-5 text-base font-medium" href="/mvp">MVP</a>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<header class="bg-gray-300 px-4 py-1 lg:px-6 text-center" style="">
			<div class="post-heading">
				<div class="url p-1 bg-gray-100 rounded-md">Article printed from:
					<tt>https://blog.jermdavis.dev/posts/2015/nuget-for-dev-instances-2</tt>
				</div>
				<h1 class="text-5xl mb-4 pb-1">
					Using NuGet for Sitecore dev instances: Further files
				</h1>
				<div class="meta">Published 27 April 2015</div>
				<div class="meta">Updated 25 August 2016</div>
				<div class="flex py-1 flex-wrap">
					<a href="/tags/nuget/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						NuGet</a>
					<a href="/tags/sitecore/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Sitecore</a>
					<a href="/tags/installation/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Installation</a>
					<span class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">~4 min. read</span>
				</div>
			</div>
		</header>
		<div class="py-2 lg:pl-3">
			<div class="lg:flex">
				<div class="lg:flex-auto mx-3 lg:min-w-0 content">
					<blockquote>
						<div class="text-lg font-bold">This is post 2 in an ongoing series titled
							<i>Using NuGet for Sitecore dev instances</i>
						</div>
						<ul>
							<li>
								<a href="/posts/2015/nuget-for-dev-instances-1">Using NuGet for Sitecore dev instances: Background and beginnings</a>
							</li>
							<li>
								<b>Using NuGet for Sitecore dev instances: Further files</b>
							</li>
							<li>
								<a href="/posts/2015/nuget-for-dev-instances-3">Using NuGet for Sitecore dev instances: Uses and conclusions</a>
							</li>
						</ul>
					</blockquote>
					<p>Last week
						<a href="/posts/2015/nuget-for-dev-instances-1" target="_blank">I started writing up the content from my Sitecore Technical User Group presentation</a>
						on using NuGet for the easy creation of new development instances. This week I'm continuing that topic, with the next steps for package creation: 
						<!--more-->
					</p>
					<h2>Adding the rest of the files</h2>
					<p>The next step is to take the
						<code>web.config</code>
						file that we didn't move last week, and move it into the "Content" folder of the package project. Then you can add XDT files to update the web.config when the target project gets run. The key settings you need to update are the various folders that are configured:</p>
					<pre class="code" data-enlighter-language="xml" style="width:100%; overflow:scroll;">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform"&gt;
  &lt;sitecore&gt;
    &lt;sc.variable xdt:Transform="SetAttributes" xdt:Locator="Match(name)"  name="dataFolder" value="./data"/&gt;
    &lt;sc.variable xdt:Transform="SetAttributes" xdt:Locator="Match(name)" name="mediaFolder" value="./upload"/&gt;
    &lt;sc.variable xdt:Transform="SetAttributes" xdt:Locator="Match(name)" name="tempFolder" value="./temp"/&gt;
  &lt;/sitecore&gt;  
&lt;/configuration&gt;

					</pre>
					<p>These paths need to be made relative, as these folders are are going to live under our website folder.</p>
					<p>Next, you have an option about where you want to put your license file. You can either create a "Data" folder under "Content" and put the license file there, or you can put the license file into the "Data" folder we created earlier under the "SitecoreFiles" folder.</p>
					<p>Then you need to create an "App_Config" folder under the "Content" folder to put your config changes into. The first config file you want to put here is the connection strings file for your site. In order to prevent SQL Server from complaining about the naming of the database files when we attach them, we need to set the names of the databases in the connection string. NuGet provides a convenient way to do this as it can pre-process files to do token replacement when the file is deployed from your package to the target project.</p>
					<p>To do this, you need to rename the standard connection strings file to be
						<code>ConnectionStrings.config.pp</code>
						and then update its content a bit:</p>
					<pre class="code" data-enlighter-language="xml" style="width:100%; overflow:scroll;">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;connectionStrings&gt;
  &lt;add name="core" connectionString="Data Source=(LocalDB)\v11.0;Integrated Security=true;AttachDbFilename=|DataDirectory|\Sitecore.Core.mdf;Database=$rootnamespace$_Core" /&gt;
  &lt;add name="master" connectionString="Data Source=(LocalDB)\v11.0;Integrated Security=true;AttachDbFilename=|DataDirectory|\Sitecore.Master.mdf;Database=$rootnamespace$_Master" /&gt;
  &lt;add name="web" connectionString="Data Source=(LocalDB)\v11.0;Integrated Security=true;AttachDbFilename=|DataDirectory|\Sitecore.Web.mdf;Database=$rootnamespace$_Web" /&gt;
&lt;/connectionStrings&gt;

					</pre>
					<p>For each connection string the file needs to set the data source as LocalDB so that we can attach it automatically at runtime. It sets the path for the file to the
						<code>|DataDirectory|</code>
						macro. Then finally it uses the
						<code>$rootnamespace$</code>
						token so that NuGet will replace this with the root namespace of whatever project you install the package into.</p>
					<p>At this point you can also add an "Include" folder under "App_Config" and add any extra configuration patches you require.</p>
					<h2>Adding the PowerShell script</h2>
					<p>The final task for package creation is to add the PowerShell script we mentioned briefly in part 1. I ended up with three script files in my "Tools"folder:</p>
					<p>
						<b>First script:</b>
						A PowerShell module file containing some reusable functions</p>
					<p>This file can be named whatever you like, but mine is called "Sitecore-Package.psm1". It's a place to put any reusable functions that the rest of the scripts refer to:</p>
					<p>The first function is a recursive copy operation that will transfer files from the "SitecoreFiles" folder (under the package folder) into the target website project's folder. Rather than being a simple copy, the code checks to see if any of the files already exists in the project and skips them if they do. This allows files in the target web project to override files in the package. This is important if you customise parts of Sitecore inside your project.</p>
					<p>The code for this function is:</p>
					<pre class="code" data-enlighter-language="powershell" style="width:100%; overflow:scroll;">function Copy-PackageFiles-Recursive($projectItem, $folder, $sourceFolder, $destFolder, $level)
{
  Write-Host $level "RecursiveCopy projectItem: " $projectItem.Name " - " $folder

  Get-ChildItem $folder | Foreach {
    if( (Get-Item $_.FullName) -is [System.IO.DirectoryInfo] )
    {
      Write-Host $level "Folder: " $_.FullName

      $path = ($_.FullName + "\") -Replace [Regex]::Escape($sourceFolder), $destFolder
      if( !(Test-Path $Path) )
      {
        New-Item -ItemType Directory -Path $Path -Force | Out-Null
      }

      $newProjectItem = $null 
      try
      {
        $newProjectItem = $projectItem.ProjectItems.Item($_.Name)
      }
      catch
      {
      }

      Copy-PackageFiles-Recursive $newProjectItem $_.FullName $sourceFolder $destFolder ($level+"-")
    }
    else
    {
      Write-Host $level "File: " $_.Name

      $item = $null
      try
      {
        $item = $projectItem.ProjectItems.Item($_.Name)
        Write-Host $level "Project contains this file - skipping: " $_.Name
      }
      catch
      {
      }

      if( $item -eq $null )
      {
        Write-Host $level "Project does not contain this file: " $_.Name
        $path = $_.FullName -Replace [Regex]::Escape($sourceFolder), $destFolder

        if(Test-Path $path)
        {
          Write-Host $level "Disk already contains file - skipping: " $_.Name
        }
        else
        {
          Write-Host $level "Copying: " $_.Name
          Copy-Item $_.FullName -Destination $path -Force
        }
      }
    }
  }
}

					</pre>
					<p>Since this has come from some exploratory work, there's a fair bit of debug output here to echo all the behaviour out to the console. But generally, it's a recursive function which processes all the child items of each folder. For the folders it checks to see if they exist at the target location (and creates it if not) and creates it if necessary. For files it only copies items which do not exist at the target.</p>
					<p>The second function in this file is a script "commandlet" for PowerShell, which will later be added to Visual Studio's package manager console. It's job is to run the copy function above:</p>
					<pre class="code" data-enlighter-language="powershell" style="width:100%; overflow:scroll;">function Refresh-Sitecore($packageName = "TestPackage") {
  Write-Host "Refreshing Sitecore files in web project..."

  $project = Get-Project
  $projectFolder = Split-Path -parent $project.FullName
  $dest = $projectFolder

  $pkg = Get-Package $packageName
  $relativePath = "..\packages\" + $pkg.Id + "." + $pkg.Version
  $installPath = Join-Path -path $projectFolder -childPath $relativePath
  $installPath = [System.IO.Path]::GetFullPath( $installPath )

  $source = Join-Path -path $installPath -childPath "SitecoreFiles"

  Write-host "-- Project Name: $($project.Name)"
  Write-host "-- Source path for package: $source"
  Write-host "-- Dest path web project: $dest"

  Write-Host "--&gt; Performing copy of non-project files"
  Copy-PackageFiles-Recursive $project $source $source $dest "-"
}

					</pre>
					<p>This calculates the correct source and target folder paths, and calls the recursive copy operation. Again there's a bit of debug output in there which you might not choose to keep in a non-exploratory version.</p>
					<p>Having this available in the Visual Studio Package Manager window will mean that we can re-execute the recursive copy if necessary. The key use-case for this is if you do a get-latest on a website project you've not used before. Source Control will fetch the web project and its NuGet package definitions. The NuGet Package Restore behaviour can then re-download the package files to ensure they're available – but this won't re-run the install/initialisation scripts that we'll mention in a bit. So you need a way to re-copy the Sitecore files – and this commandlet is the way. You run it passing the name of the web project you want to copy the files to.</p>
					<p>The final thing you need in this script file is to ensure that these two functions are public, so they can be reused by other files:</p>
					<pre class="code" data-enlighter-language="powershell" style="width:100%; overflow:scroll;">Export-ModuleMember Refresh-Sitecore
Export-ModuleMember Copy-PackageFiles-Recursive

					</pre>
					<p>
						<b>Second script:</b>
						The install script called when the package is added to a project</p>
					<p>This script needs to be named "install.ps1" so that NuGet can find and run it at when your package is added to the web project. The code it contains is:</p>
					<pre class="code" data-enlighter-language="powershell" style="width:100%; overflow:scroll;">param($installPath, $toolsPath, $package, $project)

Write-Host "install.ps1 executing for " $project.FullName

$projectFolder = Split-Path -parent $project.FullName
$source = Join-Path -path $installPath -childPath "SitecoreFiles"
$dest = $projectFolder

Write-Host "--&gt; Performing copy of non-project files"
Copy-PackageFiles-Recursive $project $source $source $dest "-"

Write-Host "--&gt; Making web.debug.config dependent on web.config"
$dbg = Join-Path -path $projectFolder -childPath "Web.Debug.config"
$project.ProjectItems.Item("Web.config").ProjectItems.AddFromFile($dbg)

Write-Host "--&gt; Making web.release.config dependent on web.config"
$rel = Join-Path -path $projectFolder -childPath "Web.Release.config"
$project.ProjectItems.Item("Web.config").ProjectItems.AddFromFile($rel)

Write-Host "--&gt; Creating missing folders"

$ovr = Join-Path -path $projectFolder -childPath "sitecore\shell\override"
if(-Not( Test-Path $ovr ))
{
  New-Item $ovr -type directory
}

$mod = Join-Path -path $projectFolder -childPath "sitecore modules"
if(-Not( Test-Path $mod ))
{
  New-Item $mod -type directory
}

Write-Host "install.ps1 Done."

					</pre>
					<p>Similarly to what we saw in the commandlet above, this calculates the source and target folders, and runs the recursive copy operation.</p>
					<p>It then runs a couple of operations against the API for the target project's files to ensure that the XDT files we added become "children" of the web.config in the project tree.</p>
					<p>And finally it checks whether a couple of important folders (that may not exist) are there or not, and creates them if required.</p>
					<p>
						<b>Third script:</b>
						The initialisation script called when the package is first downloaded</p>
					<p>The final file is a simple script to register the commandlet above with the Visual Studio Package Manager window. This needs to be called "init.ps1".</p>
					<pre class="code" data-enlighter-language="powershell" style="width:100%; overflow:scroll;">param($installPath, $toolsPath, $package)

Import-Module (Join-Path $toolsPath Sitecore-Package.psm1) -Force -DisableNameChecking

					</pre>
					<p>We use the "DisableNameChecking" flag here to avoid a warning from PowerShell due to the verb name I chose for my commandlet. You could name it something less contentious if you wanted to avoid needing this flag.</p>
					<h2>Build and publish</h2>
					<p>The next step is to add all the files described so far into the package project. In your package project, turn on "Show All Files" and add all the files under each of the folders we created earlier:</p>
					<p>
						<a href="/img/2015/2015-04-addfiles.png" target="_blank">
							<img alt="Add Package Files" src="/img/2015/2015-04-addfiles.png">
						</a>
					</p>
					<p>This is easy enough for "Content", "Tools" and "Lib" as they are small, but it will take a while under "SitecoreFiles" due to the number of files that need adding. I find my copy of Visual Studio becomes unresponsive while doing that last step, but it recovers itself fine once it's finished going through all the files.</p>
					<p>Once this is done you can run a build, and once it completes the job of generating the manifest data for NuGet and zipping everything up, you'll end up with a package file under the output directory of your project. And you can publish that to your private package feed ready for developers to consume.</p>
					<p>Next week I'll look at some conclusions drawn from testing out this process.</p>
					<a class="gotop" href="#top">↑ Back to top</a>
				</div>
				<div class="sidebar lg:flex-none lg:w-64 m-0 mt-1 lg:mt-0 lg:p-1 lg:bg-gray-100">
					<div class="md:flex-row md:flex lg:flex-col">
						<section class="md:flex-2 md:flex-grow md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0">Top Tags</h3>
							<div class="bg-white p-2 flex flex-wrap">
								<a href="/tags/sitecore/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Sitecore (224)</a>
								<a href="/tags/c/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									C# (59)</a>
								<a href="/tags/powershell/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									PowerShell (31)</a>
								<a href="/tags/installation/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Installation (23)</a>
								<a href="/tags/solr/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Solr (19)</a>
								<a href="/tags/general/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									General (16)</a>
								<a href="/tags/docker/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Docker (16)</a>
								<a href="/tags/ui/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									UI (15)</a>
								<a href="/tags/containers/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Containers (14)</a>
								<a href="/tags/bug/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Bug (12)</a>
							</div>
							<div class="bg-white mb-2 p-2">
								<a class="text-lg" href="/tags" role="button">All Tags
									<i class="fas fa-angle-double-right"></i>
								</a>
							</div>
						</section>
						<section class="md:flex-2 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink-0">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0">Recent Months</h3>
							<div class="bg-white p-2">
								<div>
									<a class="text-lg" href="/posts/2024-02">2024 - February</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2024-01">2024 - January</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-12">2023 - December</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-11">2023 - November</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-10">2023 - October</a>
								</div>
							</div>
							<div class="bg-white mb-2 p-2">
								<a class="text-lg" href="/posts" role="button">All Posts
									<i class="fas fa-angle-double-right"></i>
								</a>
							</div>
						</section>
						<section class="md:flex-1 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0">Socials</h3>
							<div class="bg-white mb-2 p-2">
								<div>
									<a class="text-lg" rel="me" target="_blank" href="https://mastodon.social/@jermdavis">Mastodon</a>
								</div>
								<div>
									<a class="text-lg" rel="me" target="_blank" href="https://www.linkedin.com/in/djdavis/">LinkedIn</a>
								</div>
								<div>
									<a class="text-lg" rel="me" target="_blank" href="https://twitter.com/jermdavis">Twitter</a>
								</div>
							</div>
						</section>
						<section class="mvp md:flex-2 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink-0 lg:order-first">
							<h3 class="bg-gray-300 p-2">Sitecore MVP 2015-2024</h3>
							<div class="bg-white mb-2 p-2">
								<a href="/mvp">
									<img class="lg:mx-auto" src="/img/mvp/2024.png" width="219" height="219" alt="2024 MVP Badge">
								</a>
							</div>
						</section>
					</div>
				</div>
			</div>
		</div>
		<footer class="lg:flex order-1 bg-gray-100 px-4 lg:px-6 py-4">
			<div class="flex-1 lg:flex-1 text-center lg:text-left">
				<div>©
					<a target="_blank" class="font-medium" rel="noopener" href="https://jermdavis.dev/">Jeremy Davis</a>
					2014-2024</div>
			</div>
			<div class="lg:flex-1 lg:order-3 text-center lg:text-right">
				<a class="font-medium" href="/tools">Published using Statiq</a>
				<br>
			</div>
			<ul class="list-none lg:flex-1 lg:order-2 p-0 text-center lg:align-middle" style="margin:0px !important">
				<li class="inline-block">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
					</svg>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.rss">RSS</a>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.atom">Atom</a>
				</li>
			</ul>
		</footer>
		<div class="min-h-screen bg-gray-300 py-6 flex flex-col justify-center sm:py-12" x-data="{ hide_banner: true }" x-init="hide_banner = docCookies.hasItem('hide_banner');" x-bind:class="{ 'hidden': hide_banner, 'fixed': !hide_banner }">
			<div class="border-2 border-gray-600 bg-gray-100 max-w-screen-lg mx-auto fixed bg-white inset-x-5 p-5 bottom-10 rounded-lg drop-shadow-2xl flex gap-4 flex-wrap md:flex-nowrap text-center md:text-left items-center justify-center md:justify-between">
				<div class="w-full text-lg">
					<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage" rel="noreferrer" target="_blank">This website uses Google Analytics, and its cookies.</a>
				</div>
				<button type="button" @click="hide_banner = true; docCookies.setItem('hide_banner', true, 'Fri, 31 Dec 9999 23:59:59 GMT', null, null, null, 'strict');" class="bg-gray-400 px-5 py-2 text-white rounded-md hover:bg-gray-600 focus:outline-none" aria-label="Dismiss">Understood</button>
			</div>
		</div>
		<script src="/vendor/Alpine/alpine.3.13.3.min.js" defer=""></script>
		<script src="/vendor/Enlighter/enlighterjs.min.js"></script>
		<script type="text/javascript">
            EnlighterJS.init('pre.code', 'code', {
            theme: 'droide',
            indent : 4,
            linehover : false,
            textOverflow: 'scroll',
            toolbarTop: '',
            toolbarBottom: ''
        });
        
		</script>
		<script src="/vendor/rp/rpbar-1.0.js"></script>
		<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JQ44ZR47YX"></script>
		<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JQ44ZR47YX');
    
		</script>
	</body>
</html>