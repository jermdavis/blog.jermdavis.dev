<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' unpkg.com www.googletagmanager.com *.google-analytics.com; img-src 'self' data: *;style-src 'self' 'unsafe-inline'">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="canonical" href="https://blog.jermdavis.dev/posts/2016/a-drink-from-the-gulp-firehose">
		<meta name="description" content="Having spent a bit of time recently looking at some of the new stuff included in the tools and frameworks for <a href=&quot;http://docs.asp.net/en/latest/conceptual-overview/dotnetcore.html&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>ASP.Net Core 1.0</a> and <a href=&quot;https://github.com/Sitecore/Habitat&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>Sitecore's Habitat solution</a>, one of the things that caught my eye is the <a href=&quot;http://gulpjs.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>Gulp</a> task runner. So after a few days of poking around, here's a basic introduction for anyone else considering it for their Sitecore work.">
		<meta property="og:description" content="Having spent a bit of time recently looking at some of the new stuff included in the tools and frameworks for <a href=&quot;http://docs.asp.net/en/latest/conceptual-overview/dotnetcore.html&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>ASP.Net Core 1.0</a> and <a href=&quot;https://github.com/Sitecore/Habitat&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>Sitecore's Habitat solution</a>, one of the things that caught my eye is the <a href=&quot;http://gulpjs.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>Gulp</a> task runner. So after a few days of poking around, here's a basic introduction for anyone else considering it for their Sitecore work.">
		<meta name="keywords" content="Gulp, Sitecore">
		<meta name="author" content="Jeremy Davis">
		<meta name="copyright" content="Jeremy Davis">
		<title>Jeremy Davis - A drink from the Gulp&nbsp;firehose</title>
		<meta name="robots" content="index, follow">
		<link type="application/rss+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.rss">
		<link type="application/atom+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.atom">
		<meta name="application-name" content="Jeremy Davis">
		<meta name="msapplication-tooltip" content="Jeremy Davis">
		<meta name="msapplication-starturl" content="/">
		<link rel="manifest" href="/manifest.webmanifest">
		<meta property="og:type" content="article">
		<meta property="og:title" content="A drink from the Gulp&amp;#xA0;firehose [by Jeremy Davis]">
		<meta property="og:publish_date" content="2016-02-22T00:00:00+0000">
		<meta property="article:published_time" content="2016-02-22T00:00:00+0000">
		<meta property="og:modified_date" content="2016-08-25T00:00:00+0000">
		<meta property="article:modified_time" content="2016-08-25T00:00:00+0000">
		<meta property="og:image" content="https://blog.jermdavis.dev/img/featured/a-drink-from-the-gulp-firehose-social.jpg">
		<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "article",
        "headline": "A drink from the Gulp&#xA0;firehose",
        "url": "https://blog.jermdavis.dev/posts/2016/a-drink-from-the-gulp-firehose",
        "image": [
            "https://blog.jermdavis.dev/img/featured/a-drink-from-the-gulp-firehose-social.jpg"
        ],
        "datePublished": "2016-02-22T00:00:00+0000",
        "dateModified": "2016-08-25T00:00:00+0000",
        "author": [{
            "@type": "Person",
            "name": "Jeremy Davis",
            "url": "https://jermdavis.dev/"
        }]
    }
    
		</script>
		<meta property="og:url" content="https://blog.jermdavis.dev/posts/2016/a-drink-from-the-gulp-firehose">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
		<link href="/scss/tailwind.css" rel="stylesheet">
		<link href="/vendor/Enlighter/enlighterjs.min.css" rel="stylesheet">
		<link href="/scss/site-theme.css" rel="stylesheet">
		<script src="/vendor/Cookies/cookies.min.js" defer=""></script>
	</head>
	<body class="max-w-7xl mx-auto text-black" id="top">
		<div id="rp-bar"></div>
		<div class="relative bg-white" x-data="{ open: false }">
			
			<!-- desktop -->
			<div class="px-4 lg:px-6 bg-gray-100">
				<div class="bannerContainer flex justify-between items-center border-b-2 border-gray-100 py-6 lg:justify-start lg:space-x-10">
					<div class="flex justify-start lg:w-0 flex-1">
						<a href="/">
							<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
						</a>
						<div class="mx-2">
							<div class="text-3xl">Jeremy Davis</div>
							<div class="text-lg">Sitecore, C# and web development</div>
						</div>
					</div>
					<div class="nav -mr-2 -my-2 lg:hidden">
						<button @click="open = true" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
							<span class="sr-only">Open menu</span>
							
							<!-- Heroicon name: outline/menu -->
							<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
							</svg>
						</button>
					</div>
					<nav class="nav hidden lg:flex space-x-10">
						<a class="text-base font-medium" href="/posts">Posts</a>
						<a class="text-base font-medium" href="/tags">Tags</a>
						<a class="text-base font-medium" href="/about">About</a>
						<a class="text-base font-medium" href="/links">Useful Links</a>
						<a class="text-base font-medium" href="/mvp">MVP</a>
					</nav>
				</div>
			</div>
			
			<!--Mobile menu, show/hide based on mobile menu state.-->
			<div class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right lg:hidden z-50">
				<div style="display:none;" class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50" x-show="open" x-transition="">
					<div class="pt-5 pb-6 px-5">
						<div class="flex items-center justify-between">
							<div class="flex">
								<a href="/">
									<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
								</a>
								<div class="mx-2">
									<div class="text-2xl">Jeremy Davis</div>
									<div class="text-base">Sitecore, C# and web development</div>
								</div>
							</div>
							<div class="nav -mr-2">
								<button @click="open = false" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
									<span class="sr-only">Close menu</span>
									
									<!-- Heroicon name: outline/x -->
									<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
									</svg>
								</button>
							</div>
						</div>
					</div>
					<div class="nav py-6 px-5 pt-0">
						<nav class=" gap-x-8">
							<a class="block mt-5 text-base font-medium" href="/posts">Posts</a>
							<a class="block mt-5 text-base font-medium" href="/tags">Tags</a>
							<a class="block mt-5 text-base font-medium" href="/about">About</a>
							<a class="block mt-5 text-base font-medium" href="/links">Useful Links</a>
							<a class="block mt-5 text-base font-medium" href="/mvp">MVP</a>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<header class="bg-gray-300 px-4 py-1 lg:px-6 text-center" style="">
			<div class="post-heading">
				<div class="url p-1 bg-gray-100 rounded-md">Article printed from:
					<tt>https://blog.jermdavis.dev/posts/2016/a-drink-from-the-gulp-firehose</tt>
				</div>
				<h1 class="text-5xl mb-4 pb-1">
					A drink from the Gulp&nbsp;firehose
				</h1>
				<div class="meta">Published 22 February 2016</div>
				<div class="meta">Updated 25 August 2016</div>
				<div class="flex py-1 flex-wrap">
					<a href="/tags/gulp/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Gulp</a>
					<a href="/tags/sitecore/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Sitecore</a>
					<span class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">~8 min. read</span>
				</div>
			</div>
		</header>
		<div class="py-2 lg:pl-3">
			<div class="lg:flex">
				<div class="lg:flex-auto mx-3 lg:min-w-0 content">
					<p>Having spent a bit of time recently looking at some of the new stuff included in the tools and frameworks for
						<a href="http://docs.asp.net/en/latest/conceptual-overview/dotnetcore.html" target="_blank" rel="noopener noreferrer">ASP.Net Core 1.0</a>
						and
						<a href="https://github.com/Sitecore/Habitat" target="_blank" rel="noopener noreferrer">Sitecore's Habitat solution</a>, one of the things that caught my eye is the
						<a href="http://gulpjs.com/" target="_blank" rel="noopener noreferrer">Gulp</a>
						task runner. So after a few days of poking around, here's a basic introduction for anyone else considering it for their Sitecore work.
						<!--more-->
					</p>
					<h2>What is Gulp?</h2>
					<p>It's a JavaScript-based task framework that can be used to automate recurring actions in your build process. Sort of like an alternative take on MSBuild – but not tied to the .Net stack. You write JavaScript functions which perform tasks for you. The code you write can be run manually, or can be tied to build-time events like "on clean" or "after build completes". The framework has been available to use via
						<a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">Node.js</a>
						and command line tools for some time, but with Visual Studio 2015 there's now built-in support for using it with your .Net projects. Hence you can make use of it in Sitecore development if you think it's useful.</p>
					<p>Gulp isn't the only tool you can use to achieve things like this – we've been able to use MSBuild to trigger code when build events occur for ages. However I've never really like having to unload my project to edit the .csproj file to modify this. Having the Gulp tasks visible in a window inside Visual Studio seems like a nicer solution to me.</p>
					<p>It's also worth pointing out that there are other JavaScript based approaches to this that you can use as well as or instead of Gulp. Visual Studio has also added support for Grunt – which is just similarly named enough to be confusing I find. The difference seems to be that Grunt is based around a model where you use large plugins which automate a complete task – say "compile my LESS files, minify them and add a license header" – and they do all of this in one operation. Gulp has a more pipeline-based model, where each plugin does a small task, and you compose them together to solve more complex problems. So you'd find plugins for "compile LESS", "minify CSS" and "prefix a file with text". To my mind, that makes Gulp the more flexible and useful tool – but you're free to choose the one which best suits your processes...</p>
					<h2>How do you set up Gulp in a project?</h2>
					<p>In Visual Studio solutions it's pretty simple:</p>
					<p>The first thing to do is configure your project to depend on Gulp. To do that you need to add a configuration file for the
						<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">Node.js Package Manager</a>
						(NPM). This is sort of like "NuGet for Node" – it lets Visual Studio automatically download any Node-based code that your solution requires at build time. Helpfully there's a template for this
						<code>package.json</code>
						file included in VS2015:</p>
					<p>
						<a href="/img/2016/2016-02-npmconfig1.png" target="_blank">
							<img alt="NPM Config" src="/img/2016/2016-02-npmconfig1.png">
						</a>
					</p>
					<p>You need to add one line to the default content of this file to get going - to tell NPM that it needs to ensure a recent version of Gulp is installed:</p>
					<pre class="code" data-enlighter-highlight="6" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">{
  "version": "1.0.0",
  "name": "ASP.NET",
  "private": true,
  "devDependencies": {
    "gulp": "^3.9.0"
  }
}

					</pre>
					<p>Note that these are described as "developer dependencies" – they're things related to your build process for your code, and not to the execution of it. In a real project you'd probably end up with other things specified here, as this is also the pattern you use for installing any plugins for Gulp which you want to make use of in your build tasks.</p>
					<p>Once you've configured NPM you can save this file to make sure all these extras get downloaded. (Note you can also right-click the file in the Solution Explorer to manually trigger a download) Then you need to add an instance of
						<code>gulpfile.js</code>
						to your project. This is the file that Visual Studio is going to find your build task code in, and again there's a helpful template to use:</p>
					<p>
						<a href="/img/2016/2016-02-gulpfile.png" target="_blank">
							<img alt="Gulp File" src="/img/2016/2016-02-gulpfile.png">
						</a>
					</p>
					<p>The default file contains two things:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">var gulp = require('gulp');

gulp.task('default', function () {
    // place code for your default task here
});

					</pre>
					<p>The first line tells the Node to get a reference to the Gulp framework. Think of it like a
						<code>using</code>
						statement. The remaining lines are the outline of a Gulp Task. You can have as many of these as you want, and each one gets a name that will be displayed in the Visual Studio "Task Runner Explorer" window:</p>
					<p>
						<a href="/img/2016/2016-02-taskrunner.png" target="_blank">
							<img alt="Task Runner" src="/img/2016/2016-02-taskrunner.png">
						</a>
					</p>
					<p>Here you can see the list of your tasks on the left. And you can right-click the name of a task to bind it to the events shown in the right hand pane.</p>
					<p>
						<i>Note:</i>
						I've found that when you're first creating your Gulp file and adding tasks or dependencies, this window can be a bit slow to update to reflect new data. Sometimes this is down to a missing dependency, and can be solved by doing a build before refreshing the Task Runner window. Sometimes it's an error processing your JavaScript, which should show up in the right pane of the Task Runner window. But occasionally it gets confused enough that you need to re-load your project (or even re-start Visual Studio) to get it to recognise what you've done. Hopefully these issues will be resolved in future patches to Visual Studio.</p>
					<h2>How can Gulp help with your Sitecore projects?</h2>
					<p>I'm sure there are lots of ways. The most obvious is as a mechanism for doing things like compiling LESS or SASS files to CSS, minifying and bundling your CSS or JavaScript files and similar web-development related tasks. This sort of application for Gulp is common to all web projects, and hence is well documented elsewhere, so I'll skip over that area and let you Google those features and plugins.</p>
					<p>But looking at a few of the simple issues relating to Sitecore development:</p>
					<h3>Copy files from Sitecore to your solution</h3>
					One example is the need to grab Sitecore binaries from a development instance to be the reference DLLs for your build. You shouldn't commit these to source control, so having a way for developers to fetch them when they first clone a solution is helpful. Copying the files out of your development Sitecore instance is one of many approaches to solving this problem. Copying the files is simple, but it raises the question of "where are the files going to and from?". And that means you need somewhere to put configuration.
					<p>Gulp lets you specify config data via JavaScript as well. Just add another .js file to your project named something sensible, and put your configuration data into a "module". For example if we need configuration settings for the website's root folder and it's binaries folder, we could use something like:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">module.exports = function () {
    var config = {
        websiteRoot: "C:\\inetpub\\wwwroot\\DevTest\\Website",
        sitecoreLibraries: "C:\\inetpub\\wwwroot\\DevTest\\Website\\bin"
    }
    return config;
}

					</pre>
					<p>And then you can import this into your Gulp file by adding the following after the
						<code>require</code>
						statement for Gulp itself:</p>
					<pre class="code" data-enlighter-highlight="2" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">var gulp = require('gulp');
var config = require("./gulp-config.js")();

					</pre>
					<p>Then you can use
						<code>config.websiteRoot</code>
						(or whatever other config declarations you make) in your tasks.</p>
					<p>You might find your developer spider-sense tingling when you look at that configuration though: We've got basically the same path in two places. That makes me want to try and factor out the common bits.</p>
					<p>When you declare a set of name-value pairs for config like that, you can't use a reference to another key in the same dictionary. However you can declare more than one dictionary. So we could refactor that to something like:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">module.exports = function () {
    var paths = {
        website: "C:\\inetpub\\wwwroot\\DevTest\\Website"
    }

    var config = {
        websiteRoot: paths.website,
        sitecoreLibraries: paths.website + "\\bin",
    }
    return config;
}

					</pre>
					<p>Now the root path is defined in a single place, no matter how many configuration values you need that include it.</p>
					<p>Most operations in Gulp follow a similar pattern: First you call
						<code>gulp.src()</code>
						to specify the file (or files) you want to be the input to your operation. You then call the
						<code>.pipe()</code>
						method as many times as you need to perform any transformations required on the data. The final
						<code>.pipe()</code>
						can then use
						<code>gulp.dest()</code>
						to write out the results to new files.</p>
					<p>So to grab a copy of the
						<code>Sitecore.Kernel.dll</code>
						from your website and store it in your project's
						<code>lib</code>
						folder, you can use the following:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">gulp.task('Copy-Sitecore-References', function () {
    gulp.src(config.sitecoreLibraries + '\\Sitecore.Kernel.dll')
        .pipe(gulp.dest('.\\lib'));
});

					</pre>
					<p>We've given the task a meaningful name, and we've told it the source and piped it straight to the destination to create a copy. And once we've refreshed the Task Runner window this action will be available to right-click and run whenever we need to.</p>
					<h3>Copying files from your project to Sitecore</h3>
					Taking this a bit further, you might also want to use it to copy things in the other direction. For example you might want to ensure the binaries required for
					<a href="https://github.com/kamsar/Unicorn" target="_blank" rel="noopener noreferrer">Unicorn</a>
					that are provided by NuGet can be deployed to your website when required.
					<p>You can just write multiple copy operations when you have more than one thing to transfer, but that's probably not the best pattern. Copying multiple files can use wildcards (for both files and folders), and you can also pass a set of paths. Since there's no common patern for the naming of the binaries in Unicorn, we can give Gulp a list. Each item in the list will get processed in turn. We can add a list of the required files to our configuration data:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">module.exports = function () {
    var config = {
        // other configuration properties
        unicornFiles: [
            '.\\bin\\Kamsar.WebConsole.*',
            '.\\bin\\MicroCHAP.*',
            '.\\bin\\Rainbow.*',
            '.\\bin\\Rainbow.Storage.Sc.*',
            '.\\bin\\Rainbow.Storage.Yaml.*',
            '.\\bin\\Unicorn.*'
        ]
    }
    return config;
}

					</pre>
					<p>(Yes, you could probably reduce this list a bit by using more wildcards – you're free to optimise if you feel like it) And that allows for another single-line copy operation to transfer all the relevant files:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">gulp.task('Copy-Unicorn-Binaries', function () {
    gulp.src(config.unicornFiles)
        .pipe(gulp.dest(config.websiteRoot + '\\bin'));
});

					</pre>
					<p>Note that you can't use the
						<code>gulp.dest()</code>
						call to rename the file. The path you specify there is always treated as a folder. If you need to rename things as you copy them, you need to include a
						<code>.pipe()</code>
						call to
						<a href="https://github.com/hparra/gulp-rename" target="_blank" rel="noopener noreferrer">a renaming plugin</a>
						- which might look something like this:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">var rename = require('gulp-rename');

gulp.task('rename-file', function () {
    gulp.src('.\\old-file-name.xml')
        .pipe(rename('.\\new-file-name.xml'))
        .pipe(gulp.dest(config.websiteRoot));
});

					</pre>
					<p>(which of course requires you to add the plugin to your
						<code>package.json</code>
						developer dependencies list)</p>
					<h3>Running tasks on build events</h3>
					Taking this concept a bit further, what about the need to copy files automatically after each build? A good example for this is deploying all your config patch files from the web project to your Sitecore instance. Creating a copy operation for this is just as simple as above:
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">gulp.task('Copy-Config-Patches', function () {
    gulp.src('.\\App_Config\\include\\**\\*.config')
        .pipe(gulp.dest(config.websiteRoot + '\\App_Config\\include'));
});

					</pre>
					<p>All that's different here is the use of wildcards. The
						<code>**</code>
						wildcard specifies "any directory tree" so the source for this copy is any
						<code>.config</code>
						file that lives anywhere under our project's
						<code>App_Config/include</code>
						folder.</p>
					<p>But to make this happen at build time, we need to bind this task to the "after build" event. That's done by right-clicking the task in the Task Runner window and choosing the "Bindings / After Build" option.</p>
					<p>
						<a href="/img/2016/2016-02-taskrunnerevents.png" target="_blank">
							<img alt="Task Runner Events" src="/img/2016/2016-02-taskrunnerevents.png">
						</a>
					</p>
					<p>Doing this will add an extra comment to the top of your Gulp file:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">/// &lt;binding AfterBuild='Copy-Config-Patches' /&gt;

					</pre>
					<p>That fragment of XML is the binding required for Visual Studio to run your task automatically. Note that the binding uses the task name, so if you rename tasks you will need to re-do the binding. You're free to bind any set of tasks to events, but you can also specify dependencies in the definition of your tasks if you need to ensure that certain tasks run in a specific order. To do that you just include an array of names of tasks which must have run first in your definition:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">gulp.task('Task-With-Dependencies', ['Task-1', 'Task-2'], function () {
    // code here runs after Task-1 and Task-2
});

					</pre>
					<h3>Modifying files as they're transferred</h3>
					None of the examples so far show the power of piping data between Gulp plugins, but a simple example of how that can work should be modifying XML documents as they're deployed. It's not uncommon to want to modify the odd setting in a config file at build time. You can do it using XDT in Visual Studio with the Slow Cheetah plugin, but it's another place where Gulp provides an alternative.
					<p>When I sat down to try and create a quick example of this I found two different XML-modifying plugins for Gulp.
						<a href="https://www.npmjs.com/package/gulp-edit-xml" target="_blank" rel="noopener noreferrer">gulp-edit-xml</a>
						provides a "map the XML tree to JavaScript objects" approach which seems frankly too complicated for most Sitecore scenarios.
						<a href="https://www.npmjs.com/package/gulp-xml-editor" target="_blank" rel="noopener noreferrer">gulp-xml-editor</a>
						has a much more useful xpath-based syntax, but (so far) I cannot get this plugin to run. It relies on another package called
						<code>node-gyp</code>
						which appears to be used to compile native code for the Node.js framework. In theory this involves installing Python and making various configuration settings to ensure Node can find appropriate compilers - which, frankly, is way too much effort for a simple task like this.</p>
					<p>If it didn't require all the messing about and other installs, it should be possible to write simple replacements in a fairly sensible manner:</p>
					<pre class="code" data-enlighter-language="jscript" style="width:100%; overflow:scroll;">gulp.task('xml-transform', function () {
    gulp.src('.\\example.xml')
        .pipe(xeditor([
            { path: '/settings/setting[@name="changeMe"]', text: 'New text value' }
        ]))
        .pipe(gulp.dest(config.websiteRoot));
});

					</pre>
					<p>As with all the Gulp plugins, the source data gets piped in, and you define a set of name/value pairs for the XPath to find the element(s) to change and the new text to write into whatever the XPath selects.</p>
					<p>I'll keep an eye out to see if anyone creates a more "windows friendly" plugin for patching XML. But given the complexity of making this work, I think I will be sticking to XDT for this requirement in the meantime...</p>
					<a class="gotop" href="#top">↑ Back to top</a>
				</div>
				<div class="sidebar lg:flex-none lg:w-64 m-0 mt-1 lg:mt-0 lg:p-1 lg:bg-gray-100">
					<div class="md:flex-row md:flex lg:flex-col">
						<section class="md:flex-2 md:flex-grow md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0">Top Tags</h3>
							<div class="bg-white p-2 flex flex-wrap">
								<a href="/tags/sitecore/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Sitecore (222)</a>
								<a href="/tags/c/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									C# (57)</a>
								<a href="/tags/powershell/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									PowerShell (31)</a>
								<a href="/tags/installation/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Installation (23)</a>
								<a href="/tags/solr/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Solr (19)</a>
								<a href="/tags/general/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									General (16)</a>
								<a href="/tags/docker/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Docker (16)</a>
								<a href="/tags/ui/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									UI (15)</a>
								<a href="/tags/containers/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Containers (14)</a>
								<a href="/tags/bug/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Bug (12)</a>
							</div>
							<div class="bg-white mb-2 p-2">
								<a class="text-lg" href="/tags" role="button">All Tags
									<i class="fas fa-angle-double-right"></i>
								</a>
							</div>
						</section>
						<section class="md:flex-2 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink-0">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0">Recent Months</h3>
							<div class="bg-white p-2">
								<div>
									<a class="text-lg" href="/posts/2023-12">2023 - December</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-11">2023 - November</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-10">2023 - October</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-09">2023 - September</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2023-08">2023 - August</a>
								</div>
							</div>
							<div class="bg-white mb-2 p-2">
								<a class="text-lg" href="/posts" role="button">All Posts
									<i class="fas fa-angle-double-right"></i>
								</a>
							</div>
						</section>
						<section class="md:flex-1 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0">Socials</h3>
							<div class="bg-white mb-2 p-2">
								<div>
									<a class="text-lg" rel="me" target="_blank" href="https://mastodon.social/@jermdavis">Mastodon</a>
								</div>
								<div>
									<a class="text-lg" rel="me" target="_blank" href="https://www.linkedin.com/in/djdavis/">LinkedIn</a>
								</div>
								<div>
									<a class="text-lg" rel="me" target="_blank" href="https://twitter.com/jermdavis">Twitter</a>
								</div>
							</div>
						</section>
						<section class="mvp md:flex-2 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink-0 lg:order-first">
							<h3 class="bg-gray-300 p-2">Sitecore MVP 2015-2023</h3>
							<div class="bg-white mb-2 p-2">
								<a href="/mvp">
									<img class="lg:mx-auto" src="/img/mvp/2023.png" width="219" height="219" alt="2023 MVP Badge">
								</a>
							</div>
						</section>
					</div>
				</div>
			</div>
		</div>
		<footer class="lg:flex order-1 bg-gray-100 px-4 lg:px-6 py-4">
			<div class="flex-1 lg:flex-1 text-center lg:text-left">
				<div>©
					<a target="_blank" class="font-medium" rel="noopener" href="https://jermdavis.dev/">Jeremy Davis</a>
					2014-2023</div>
			</div>
			<div class="lg:flex-1 lg:order-3 text-center lg:text-right">
				<a class="font-medium" href="/tools">Published using Statiq</a>
				<br>
			</div>
			<ul class="list-none lg:flex-1 lg:order-2 p-0 text-center lg:align-middle" style="margin:0px !important">
				<li class="inline-block">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
					</svg>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.rss">RSS</a>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.atom">Atom</a>
				</li>
			</ul>
		</footer>
		<div class="min-h-screen bg-gray-300 py-6 flex flex-col justify-center sm:py-12" x-data="{ hide_banner: true }" x-init="hide_banner = docCookies.hasItem('hide_banner');" x-bind:class="{ 'hidden': hide_banner, 'fixed': !hide_banner }">
			<div class="border-2 border-gray-600 bg-gray-100 max-w-screen-lg mx-auto fixed bg-white inset-x-5 p-5 bottom-10 rounded-lg drop-shadow-2xl flex gap-4 flex-wrap md:flex-nowrap text-center md:text-left items-center justify-center md:justify-between">
				<div class="w-full text-lg">
					<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage" rel="noreferrer" target="_blank">This website uses Google Analytics, and its cookies.</a>
				</div>
				<button type="button" @click="hide_banner = true; docCookies.setItem('hide_banner', true, 'Fri, 31 Dec 9999 23:59:59 GMT', null, null, null, 'strict');" class="bg-gray-400 px-5 py-2 text-white rounded-md hover:bg-gray-600 focus:outline-none" aria-label="Dismiss">Understood</button>
			</div>
		</div>
		<script src="/vendor/Alpine/alpine.3.13.3.min.js" defer=""></script>
		<script src="/vendor/Enlighter/enlighterjs.min.js"></script>
		<script type="text/javascript">
            EnlighterJS.init('pre.code', 'code', {
            theme: 'droide',
            indent : 4,
            linehover : false,
            textOverflow: 'scroll',
            toolbarTop: '',
            toolbarBottom: ''
        });
        
		</script>
		<script src="/vendor/rp/rpbar-1.0.js"></script>
		<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JQ44ZR47YX"></script>
		<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JQ44ZR47YX');
    
		</script>
	</body>
</html>