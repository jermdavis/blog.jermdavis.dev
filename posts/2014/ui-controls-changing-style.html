<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' *.twitter.com unpkg.com www.googletagmanager.com www.google-analytics.com *.twimg.com; img-src 'self' data: *;style-src 'self' 'unsafe-inline' *.twitter.com *.twimg.com">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="canonical" href="https://blog.jermdavis.dev/posts/2014/ui-controls-changing-style">
		<meta name="description" content="It's not an uncommon requirement to have a control on your website which displays its data with varying styles in different locations in the site. Here are a few simple patterns for how you can create Sitecore UI components which can have their display style changed by location. ">
		<meta property="og:description" content="It's not an uncommon requirement to have a control on your website which displays its data with varying styles in different locations in the site. Here are a few simple patterns for how you can create Sitecore UI components which can have their display style changed by location. ">
		<meta name="keywords" content="CSS, Sitecore">
		<meta name="author" content="Jeremy Davis">
		<meta name="copyright" content="Jeremy Davis">
		<title>Jeremy Davis - Do your UI controls need to change style depending on where they're&nbsp;used?</title>
		<meta name="robots" content="index, follow">
		<link type="application/rss+xml" rel="alternate" href="/feed.rss">
		<link type="application/atom+xml" rel="alternate" href="/feed.atom">
		<meta name="application-name" content="Jeremy Davis">
		<meta name="msapplication-tooltip" content="Jeremy Davis">
		<meta name="msapplication-starturl" content="/">
		<link rel="manifest" href="/manifest.webmanifest">
		<meta property="og:title" content="Jeremy Davis - Do your UI controls need to change style depending on where they&amp;#x27;re&amp;#xA0;used?">
		<meta property="og:image" content="https://blog.jermdavis.dev/img/featured/ui-controls-changing-style-social.jpg">
		<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Do your UI controls need to change style depending on where they&#x27;re&#xA0;used?",
        "image": [
            "https://blog.jermdavis.dev/img/featured/ui-controls-changing-style-social.jpg"
        ],
        "datePublished": "2014-12-15T00:00:00+00:00",
        "dateModified": "2016-08-25T00:00:00+00:00",
        "author": [{
            "@type": "Person",
            "name": "Jeremy Davis",
            "url": "https://jermdavis.dev/"
        }]
    }
    
		</script>
		<meta property="og:url" content="https://blog.jermdavis.dev/posts/2014/ui-controls-changing-style">
		<meta property="og:type" content="website">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
		<link href="/scss/tailwind.css" rel="stylesheet">
		<link href="/vendor/Enlighter/enlighterjs.min.css" rel="stylesheet">
		<link href="/scss/site-theme.css" rel="stylesheet">
		<script src="/vendor/Cookies/cookies.min.js" defer=""></script>
		
		<!-- 23/05/2022 08:17:12 -->
	</head>
	<body class="max-w-7xl mx-auto">
		<div class="relative bg-white" x-data="{ open: false }">
			
			<!-- desktop -->
			<div class="px-4 lg:px-6 bg-gray-100">
				<div class="flex justify-between items-center border-b-2 border-gray-100 py-6 lg:justify-start lg:space-x-10">
					<div class="flex justify-start lg:w-0 flex-1">
						<a href="/">
							<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
						</a>
						<div class="mx-2">
							<div class="text-3xl">Jeremy Davis</div>
							<div class="text-lg">Sitecore, C# and web development</div>
						</div>
					</div>
					<div class="-mr-2 -my-2 lg:hidden">
						<button @click="open = true" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
							<span class="sr-only">Open menu</span>
							
							<!-- Heroicon name: outline/menu -->
							<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
							</svg>
						</button>
					</div>
					<nav class="hidden lg:flex space-x-10">
						<a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/posts">Posts</a>
						<a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/tags">Tags</a>
						<a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/about">About</a>
						<a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/links">Useful Links</a>
						<a class="text-base font-medium text-gray-500 hover:text-gray-900" href="/mvp">MVP</a>
					</nav>
				</div>
			</div>
			
			<!--Mobile menu, show/hide based on mobile menu state.-->
			<div class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right lg:hidden z-50">
				<div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50" x-show="open" x-transition="">
					<div class="pt-5 pb-6 px-5">
						<div class="flex items-center justify-between">
							<div class="flex">
								<a href="/">
									<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
								</a>
								<div class="mx-2">
									<div class="text-2xl">Jeremy Davis</div>
									<div class="text-base">Sitecore, C# and web development</div>
								</div>
							</div>
							<div class="-mr-2">
								<button @click="open = false" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
									<span class="sr-only">Close menu</span>
									
									<!-- Heroicon name: outline/x -->
									<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
									</svg>
								</button>
							</div>
						</div>
					</div>
					<div class="py-6 px-5 pt-0">
						<nav class=" gap-x-8">
							<a class="block mt-5 text-base font-medium text-gray-500 hover:text-gray-900" href="/posts">Posts</a>
							<a class="block mt-5 text-base font-medium text-gray-500 hover:text-gray-900" href="/tags">Tags</a>
							<a class="block mt-5 text-base font-medium text-gray-500 hover:text-gray-900" href="/about">About</a>
							<a class="block mt-5 text-base font-medium text-gray-500 hover:text-gray-900" href="/links">Useful Links</a>
							<a class="block mt-5 text-base font-medium text-gray-500 hover:text-gray-900" href="/mvp">MVP</a>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<header class="bg-gray-300 px-4 py-1 lg:px-6 text-center" style="background-image: url(&amp;quot;/&amp;quot;);">
			<div class="post-heading">
				<h1 class="text-5xl mb-4 pb-1">
					Do your UI controls need to change style depending on where they're&nbsp;used?
				</h1>
				<div class="meta">Published 15 December 2014</div>
				<div class="meta">Updated 25 August 2016</div>
				<div class="flex py-1">
					<a href="/tags/css/" class="p-1 mr-1 bg-gray-100 rounded-md">
						CSS</a>
					<a href="/tags/sitecore/" class="p-1 mr-1 bg-gray-100 rounded-md">
						Sitecore</a>
				</div>
			</div>
		</header>
		<div class="py-2 lg:pl-3">
			<div class="lg:flex">
				<div class="lg:flex-auto mx-3 lg:min-w-0 content">
					<p>It's not an uncommon requirement to have a control on your website which displays its data with varying styles in different locations in the site. Here are a few simple patterns for how you can create Sitecore UI components which can have their display style changed by location. 
						<!--more-->
					</p>
					<h2>Plain old CSS is all you need sometimes</h2>
					<p>If the pattern for "what style is shown where" is a simple one like "the control is red if it's used in the left column and green if it's used in the right column" then you can just make use of the power of CSS for this. You just need to ensure that the markup around your placeholders enables the right behaviour.</p>
					<p>For example, in your markup for a layout (or parent sublayout) you could write:</p>
					<pre data-enlighter-language="xml" style="width:100%; overflow:scroll;">&lt;div class="layout"&gt;
    &lt;div class="leftColumn"&gt;
        &lt;sc:Placeholder runat="server" key="left"/&gt;
    &lt;/div&gt;
    &lt;div class="rightColumn"&gt;
        &lt;sc:placeholder runat="server" key="left" /&gt;
    &lt;/div&gt;
&lt;/div&gt;

					</pre>
					<p>And then the UI control itself might include:</p>
					<pre data-enlighter-language="xml" style="width:100%; overflow:scroll;">&lt;div class="myControl"&gt;
    &lt;!-- control markup here --&gt;
&lt;/div&gt;

					</pre>
					<p>And then in your CSS you can have something like:</p>
					<pre data-enlighter-language="css" style="width:100%; overflow:scroll;">.leftColumn .myControl {
    border: 2px solid red;
}

.rightColumn .myControl {
    border: 2px solid green;
}

					</pre>
					<p>By writing CSS selectors that check if the control is placed into the left or right column, the display of the control can vary depending on which placeholder it's put in. So by carefully separating out the CSS for your control into "stuff that needs to vary" and "stuff that's the same in all places" you can keep the extra CSS as small as possible.</p>
					<h2>Sometimes the server can work it out for you</h2>
					<p>Sometimes you might need the style to change for a rule the server can work out like "make the component red on Tuesdays". Here you can get ASP.Net to change the classes applied to your control at runtime.</p>
					<p>You could put the following markup in your user control:</p>
					<pre data-enlighter-language="xml" style="width:100%; overflow:scroll;">&lt;%@ Control Language="C#" AutoEventWireup="true" CodeBehind="TuesdayControl.ascx.cs" Inherits="Testing.TuesdayControl" %&gt;
&lt;div runat="server" id="container"&gt;
    &lt;!-- markup goes here --&gt;
&lt;/div&gt;

					</pre>
					<p>and then add some code-behind:</p>
					<pre data-enlighter-language="csharp" style="width:100%; overflow:scroll;">public partial class TuesdayControl : System.Web.UI.UserControl
{
    protected void Page_Load(object sender, EventArgs e)
    {
        if(DateTime.Now.DayOfWeek == DayOfWeek.Tuesday)
        {
            container.Attributes.Add("class", "tuesday");
        }
    }
}

					</pre>
					<p>and again, add some CSS to your solution to adjust the colour when the "tuesday" class is applied.</p>
					<h2>Or you can let the editors choose...</h2>
					<p>Sometimes, thought, there's no simple rule for when a component can change style. Here what you need is to give the editors an option for changing the style. Here what you need is a Parameter Template, so that editors can change the style applied to the control.</p>
					<p>First of all you need some items to represent the possible CSS classes. These can be based on the
						<code>Item</code>
						template, since all we need is their name. Add a folder somewhere in your content tree (your "shared content" area is usually a good place) and create items with the names of the CSS classes you want editors to be able to apply:</p>
					<p>
						<a href="/img/2014/2014-12-cssitems.png" target="_blank">
							<img alt="Css Items" src="/img/2014/2014-12-cssitems.png">
						</a>
					</p>
					<p>Then you can create a new
						<code>Rendering Parameters Template</code>
						that lets the editor pick their choice of item. Create a new template, but set the base template that it inherits from to
						<code>/sitecore/templates/System/Layout/Rendering Parameters/Standard Rendering Parameters</code>. And then add a single field to store the user's choice of CSS class:</p>
					<p>
						<a href="/img/2014/2014-12-cssparametertemplate.png" target="_blank">
							<img alt="CSS Parameter Template" src="/img/2014/2014-12-cssparametertemplate.png">
						</a>
					</p>
					<p>Next, you need to bind this new parameter template to the Sublayout that's going to render the extra CSS class. Find the appropriate sublayout definition in the content tree, and use the "Parameters Template" field to pick your new parameter template:</p>
					<p>
						<a href="/img/2014/2014-12-sublayoutproperties.png" target="_blank">
							<img alt="SublayoutProperties" src="/img/2014/2014-12-sublayoutproperties.png">
						</a>
					</p>
					<p>The code for your sublayout needs to be able to process this data now. As in the previous example, you'll need some sort of element to receive the CSS class. Something like:</p>
					<pre data-enlighter-language="xml" style="width:100%; overflow:scroll;">&lt;div runat="server" id="container"&gt;
    &lt;h2&gt;Control with CSS override&lt;/h2&gt;
    &lt;!-- your markup here --&gt;
&lt;/div&gt;

					</pre>
					<p>And then in your code-behind, you can apply the CSS override class:</p>
					<pre data-enlighter-language="csharp" style="width:100%; overflow:scroll;">protected void Page_Load(object sender, EventArgs e)
{
    ApplyCSSOverride(container);
}

public void ApplyCSSOverride(HtmlGenericControl ctrl)
{
    var sublayout = (Sitecore.Web.UI.WebControls.Sublayout)this.Parent;
    var layoutParameters = System.Web.HttpUtility.ParseQueryString(sublayout.Parameters);

    string classid = layoutParameters["CSSClass"];
    if (!String.IsNullOrWhiteSpace(classid))
    {
        Sitecore.Data.ID id;
        if (Sitecore.Data.ID.TryParse(classid, out id))
        {
            Item item = Sitecore.Context.Database.GetItem(new Sitecore.Data.ID(classid));

            if (item != null)
            {
                if (string.IsNullOrWhiteSpace(ctrl.Attributes["class"]))
                {
                    ctrl.Attributes.Add("class", item.Name);
                }
                else
                {
                    ctrl.Attributes["class"] += " " + item.Name;
                }
            }
        }
    }
}

					</pre>
					<p>The
						<code>ApplyCSSOverride()</code>
						method takes the control you want to apply the override to as its parameter. It then finds the Sitecore
						<code>Sublayout</code>
						control that's containing this code, and parses its layout parameters into a set of name/value pairs. If the collection contains a value for "CSSClass" (the name we gave the field in our Parameter Template) then we can process this – otherwise there's nothing else to do. That property will contain the ID of the chosen CSS Override item, so after trying to parse/load it, if we have an item we can use its name as a CSS class to apply to our control. Here we're also checking if that control already has any classes applied to it. If not, we add the appropriate HTML attribute. Otherwise we append our class name to the pre-existing attribute.</p>
					<p>With that code in place, you can put your sublayout onto a page, and then choose a CSS class from the Component Properties:</p>
					<p>
						<a href="/img/2014/2014-12-applyoverride.png" target="_blank">
							<img alt="Apply Override" src="/img/2014/2014-12-applyoverride.png">
						</a>
					</p>
					<p>And your sublayout will add the appropriate style:</p>
					<p>
						<a href="/img/2014/2014-12-overrideapplied.png" target="_blank">
							<img alt="Override Applied" src="/img/2014/2014-12-overrideapplied.png">
						</a>
					</p>
					<p>In more complex scenarios, you might make the Parameter Template allow multiple selection for the override classes.</p>
					<p>(All these techniques can work for MVC-based sites too, if you adapt the code)</p>
				</div>
				<div class="lg:flex-none lg:w-72 m-0 mt-1 lg:mt-0 lg:p-1 lg:bg-gray-100">
					<section class="mvp">
						<h3 class="bg-gray-300 p-2">Sitecore MVP 2015-2022</h3>
						<div class="bg-white mb-2 p-2">
							<a href="/mvp">
								<img src="/img/mvp/2022.jpg" width="219" height="219" alt="2022 MVP Badge">
							</a>
						</div>
					</section>
					<section>
						<h3 class="bg-gray-300 p-2">Top Tags</h3>
						<div class="bg-white p-2 flex flex-wrap">
							<a href="/tags/sitecore/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Sitecore (200)</a>
							<a href="/tags/c/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								C# (46)</a>
							<a href="/tags/powershell/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								PowerShell (31)</a>
							<a href="/tags/installation/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Installation (23)</a>
							<a href="/tags/solr/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Solr (15)</a>
							<a href="/tags/general/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								General (14)</a>
							<a href="/tags/ui/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								UI (14)</a>
							<a href="/tags/docker/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Docker (12)</a>
							<a href="/tags/coveo/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Coveo (12)</a>
							<a href="/tags/packages/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
								Packages (11)</a>
						</div>
						<div class="bg-white mb-2 p-2">
							<a class="" href="/tags" role="button">All Tags
								<i class="fas fa-angle-double-right"></i>
							</a>
						</div>
					</section>
					<section>
						<h3 class="bg-gray-300 p-2">Recent Months</h3>
						<div class="bg-white p-2">
							<div>
								<a class="text-lg" href="/posts/2022-05">2022 - May</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2022-04">2022 - April</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2022-03">2022 - March</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2022-02">2022 - February</a>
							</div>
							<div>
								<a class="text-lg" href="/posts/2022-01">2022 - January</a>
							</div>
						</div>
						<div class="bg-white mb-2 p-2">
							<a class="" href="/posts" role="button">All Posts
								<i class="fas fa-angle-double-right"></i>
							</a>
						</div>
					</section>
					<section>
						<h3 class="bg-gray-300 p-2">Twitter</h3>
						<div class="bg-white mb-2 p-2">
							<a class="twitter-timeline" data-height="400" data-chrome="noheader nofooter noborders" href="https://twitter.com/jermdavis">Tweets by JermDavis</a>
							<script async="" defer="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
						</div>
					</section>
				</div>
			</div>
		</div>
		<footer class="lg:flex order-1 bg-gray-100 px-4 lg:px-6 py-4">
			<div class="flex-1 lg:flex-1 text-center lg:text-left">
				<div>©
					<a target="_blank" class="font-medium text-gray-500 hover:text-gray-900" rel="noopener" href="https://jermdavis.dev/">Jeremy Davis</a>
					2014-2022</div>
			</div>
			<div class="lg:flex-1 lg:order-3 text-center lg:text-right">
				<a class="font-medium text-gray-500 hover:text-gray-900" href="/tools">Published using Statiq</a>
				<br>
			</div>
			<ul class="list-none lg:flex-1 lg:order-2 p-0 text-center lg:align-middle" style="margin:0px !important">
				<li class="inline-block">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
					</svg>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium text-gray-500 hover:text-gray-900" target="_blank" href="/feed.rss">RSS</a>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium text-gray-500 hover:text-gray-900" target="_blank" href="/feed.atom">Atom</a>
				</li>
			</ul>
		</footer>
		<div class="min-h-screen bg-gray-300 py-6 flex flex-col justify-center sm:py-12" x-data="{ hide_banner: true }" x-init="hide_banner = docCookies.hasItem('hide_banner');" x-bind:class="{ 'hidden': hide_banner, 'fixed': !hide_banner }">
			<div class="border-2 border-gray-600 bg-gray-100 max-w-screen-lg mx-auto fixed bg-white inset-x-5 p-5 bottom-10 rounded-lg drop-shadow-2xl flex gap-4 flex-wrap md:flex-nowrap text-center md:text-left items-center justify-center md:justify-between">
				<div class="w-full text-lg">
					<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage" rel="noreferrer" target="_blank">This website uses Google Analytics, and its cookies.</a>
				</div>
				<button type="button" @click="hide_banner = true; docCookies.setItem('hide_banner', true, 'Fri, 31 Dec 9999 23:59:59 GMT', null, null, null, 'strict');" class="bg-gray-400 px-5 py-2 text-white rounded-md hover:bg-gray-600 focus:outline-none" aria-label="Dismiss">Understood</button>
			</div>
		</div>
		<script src="/vendor/Alpine/alpine.3.7.1.min.js" defer=""></script>
		<script src="/vendor/Enlighter/enlighterjs.min.js"></script>
		<script type="text/javascript">
        EnlighterJS.init('pre', 'code', {
            theme: 'droide',
            indent : 4,
            linehover : false,
            textOverflow: 'scroll',
            toolbarTop: '',
            toolbarBottom: ''
        });
    
		</script>
		<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JQ44ZR47YX"></script>
		<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JQ44ZR47YX');
    
		</script>
	</body>
</html>