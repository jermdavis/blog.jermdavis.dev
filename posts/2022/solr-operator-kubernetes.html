<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' unpkg.com www.googletagmanager.com *.google-analytics.com; img-src 'self' data: *;style-src 'self' 'unsafe-inline'">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="canonical" href="https://blog.jermdavis.dev/posts/2022/solr-operator-kubernetes">
		<meta name="description" content="An explanation of Solr Operator - The Apache Foundation's helpful tooling to deploy instances of SolrCloud in Kubernetes">
		<meta property="og:description" content="An explanation of Solr Operator - The Apache Foundation's helpful tooling to deploy instances of SolrCloud in Kubernetes">
		<meta name="keywords" content="Kubernetes, Containers, SolrCloud, Sitecore">
		<meta name="author" content="Jeremy Davis">
		<meta name="copyright" content="Jeremy Davis">
		<title>Jeremy Davis - Discovering Solr Operator</title>
		<meta name="robots" content="index, follow">
		<link type="application/rss+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.rss">
		<link type="application/atom+xml" rel="alternate" title="Jeremy Davis - Sitecore, C# and web development" href="/feed.atom">
		<meta name="application-name" content="Jeremy Davis">
		<meta name="msapplication-tooltip" content="Jeremy Davis">
		<meta name="msapplication-starturl" content="/">
		<link rel="manifest" href="/manifest.webmanifest">
		<meta property="og:type" content="article">
		<meta property="og:title" content="Discovering Solr Operator [by Jeremy Davis]">
		<meta property="og:publish_date" content="2022-07-04T00:00:00+0000">
		<meta property="article:published_time" content="2022-07-04T00:00:00+0000">
		<meta property="og:image" content="https://blog.jermdavis.dev/img/featured/solr-operator-kubernetes-social.jpg">
		<meta property="og:image:alt" content="Logo image showing post title 'Discovering Solr Operator' and author 'Jeremy Davis'">
		<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "article",
        "headline": "Discovering Solr Operator",
        "url": "https://blog.jermdavis.dev/posts/2022/solr-operator-kubernetes",
        "image": [
            {
                "@type": "ImageObject",
                "contentUrl": "https://blog.jermdavis.dev/img/featured/solr-operator-kubernetes-social.jpg",
                "caption": "Logo image showing post title 'Discovering Solr Operator' and author 'Jeremy Davis'"
            }
        ],
        "datePublished": "2022-07-04T00:00:00+0000",
        "author": [{
            "@type": "Person",
            "name": "Jeremy Davis",
            "url": "https://jermdavis.dev/"
        }]
    }
    
		</script>
		<meta property="og:url" content="https://blog.jermdavis.dev/posts/2022/solr-operator-kubernetes">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
		<link href="/scss/tailwind.css" rel="stylesheet">
		<link href="/vendor/Enlighter/enlighterjs.min.css" rel="stylesheet">
		<link href="/scss/site-theme.css" rel="stylesheet">
		<script src="/vendor/Cookies/cookies.min.js" defer=""></script>
	</head>
	<body class="max-w-7xl mx-auto text-black" id="top">
		<div id="rp-bar"></div>
		<div class="relative bg-white" x-data="{ open: false }">
			
			<!-- desktop -->
			<div class="px-4 lg:px-6 bg-gray-100">
				<div class="bannerContainer flex justify-between items-center border-b-2 border-gray-100 py-6 lg:justify-start lg:space-x-10">
					<div class="flex justify-start lg:w-0 flex-1">
						<a href="/">
							<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
						</a>
						<div class="mx-2">
							<div class="text-3xl">Jeremy Davis</div>
							<div class="text-lg">Sitecore, C# and web development</div>
						</div>
					</div>
					<div class="nav -mr-2 -my-2 lg:hidden">
						<button @click="open = true" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
							<span class="sr-only">Open menu</span>
							
							<!-- Heroicon name: outline/menu -->
							<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
							</svg>
						</button>
					</div>
					<nav class="nav hidden lg:flex space-x-10">
						<a class="text-base font-medium" href="/posts">Posts</a>
						<a class="text-base font-medium" href="/tags">Tags</a>
						<a class="text-base font-medium" href="/about">About</a>
						<a class="text-base font-medium" href="/links">Useful Links</a>
						<a class="text-base font-medium" href="/mvp">MVP</a>
						<a class="text-base font-medium" href="/search">Search</a>
					</nav>
				</div>
			</div>
			
			<!--Mobile menu, show/hide based on mobile menu state.-->
			<div class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right lg:hidden z-50">
				<div style="display:none;" class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50" x-show="open" x-transition="">
					<div class="pt-5 pb-6 px-5">
						<div class="flex items-center justify-between">
							<div class="flex">
								<a href="/">
									<img class="mt-2" width="56" height="56" src="/img/Profile.jpg" alt="Jeremy Davis">
								</a>
								<div class="mx-2">
									<div class="text-2xl">Jeremy Davis</div>
									<div class="text-base">Sitecore, C# and web development</div>
								</div>
							</div>
							<div class="nav -mr-2">
								<button @click="open = false" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
									<span class="sr-only">Close menu</span>
									
									<!-- Heroicon name: outline/x -->
									<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
									</svg>
								</button>
							</div>
						</div>
					</div>
					<div class="nav py-6 px-5 pt-0">
						<nav class=" gap-x-8">
							<a class="block mt-5 text-base font-medium" href="/posts">Posts</a>
							<a class="block mt-5 text-base font-medium" href="/tags">Tags</a>
							<a class="block mt-5 text-base font-medium" href="/about">About</a>
							<a class="block mt-5 text-base font-medium" href="/links">Useful Links</a>
							<a class="block mt-5 text-base font-medium" href="/mvp">MVP</a>
							<a class="block mt-5 text-base font-medium" href="/search">Search</a>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<header class="bg-gray-300 px-4 py-1 lg:px-6 text-center" style="">
			<div class="post-heading">
				<div class="url p-1 bg-gray-100 rounded-md">Article printed from:
					<tt>https://blog.jermdavis.dev/posts/2022/solr-operator-kubernetes</tt>
				</div>
				<h1 class="text-5xl mb-4 pb-1">
					Discovering Solr Operator
				</h1>
				<h2 class="text-2xl">A helpful shortcut to containerised Solr</h2>
				<div class="meta">Published 04 July 2022</div>
				<div class="flex py-1 flex-wrap">
					<a href="/tags/kubernetes/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Kubernetes</a>
					<a href="/tags/containers/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Containers</a>
					<a href="/tags/solrcloud/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						SolrCloud</a>
					<a href="/tags/sitecore/" class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">
						Sitecore</a>
					<span class="p-1 mr-1 mt-1 bg-gray-100 rounded-md whitespace-nowrap">~7 min. read</span>
				</div>
			</div>
		</header>
		<div class="py-2 lg:pl-3">
			<div class="lg:flex">
				<div class="lg:flex-auto mx-3 lg:min-w-0 content">
					<p>One of the recurring themes of deploying Sitecore over the last few years has been "how do I deal with Solr?". It's a question with many valid answers... I've been doing some research for a client recently, because they wanted to run their own SolrCloud instances in Kubernetes - and I came across the Apache Foundation's "Solr Operator" project. It's an interesting shortcut to efficient containerised deployments of Solr, and it might help you too...
						<!--more-->
					</p>
					<h2 id="what-is-this">What is this?</h2>
					<p>If you have decided you want to run your SolrCloud for Sitecore in container infrastructure that you host, then
						<a href="https://solr.apache.org/operator/" target="_blank" rel="noopener">Solr Operator</a>
						could be the helper project you've been looking for. It's a pre-packaged
						<a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a>
						setup tool that lets you quickly and easily provision new instances of
						<a href="https://solr.apache.org/guide/8_8/solrcloud.html#:~:text=SolrCloud%20is%20flexible%20distributed%20search,be%20sent%20to%20any%20server." target="_blank" rel="noopener">SolrCloud</a>. And while it provisions them it can configure in helpful ways too, with built in support for authentication settings, scaling, SSL, Ingress Controller config and backups.</p>
					<p>It's provided as a set of Kubernetes config files and Helm Charts, which you can apply to your existing Kubernetes instances (and it doesn't care about where they're run) to set up as many Solr instances as you need.</p>
					<p>What is a "<a href="https://helm.sh/docs/topics/charts/" target="_blank" rel="noopener">Helm Chart</a>"? Well it's a pre-packaged set of Kubernetes config files, which are templated. Think of Helm as a bit like a package manager for Kubernetes. You say "fetch the package called &lt;something&gt;" and it downloads an archive containing a set of templated config files. When you say "install the package called &lt;something&gt;" you're passing in a set of variables, and it's injecting them into the templates to generate the real config files for your deployment. Under the surface (for Operator at least) what that means is you're downloading all the Kubernetes
						<a href="https://en.wikipedia.org/wiki/YAML" target="_blank" rel="noopener">YAML</a>
						files to set up Solr, but they've been templated using
						<a href="https://mustache.github.io/" target="_blank" rel="noopener">Mustache</a>. So when Helm runs, it replaces all of the
						<code>{{variable}}</code>
						entries in these files to generate the final YAML files which will install Solr using your preferred features, names and settings...</p>
					<p>So once you've installed Operator, it can sit in your Kubernetes cluster and manage backups etc for you. And whenever you need to provision another instance of SolrCloud (say you're running multiple client projects in parallel perhaps) then you run a simple command, and it sorts out all of the config to add the new containers to your setup.</p>
					<p>And it's massively simpler than trying to do this yourself...</p>
					<h2 id="an-example-setup">An example setup</h2>
					<p>I decided to try this out on my laptop. I don't have Kubernetes installed, but it turns out that's a feature of
						<a href="https://www.docker.com/products/docker-desktop/" target="_blank" rel="noopener">Docker Desktop</a>, so running an instance of this locally is pretty simple. The steps are as follows:</p>
					<h3 id="get-docker-running-kubernetes-for-you">1. Get Docker running Kubernetes for you</h3>
					<p>If you're like me, and have been running Sitecore using Docker Desktop, then you probably have it set up in Windows Containers mode. So switch it back to Linux Containers by right-clicking the Whale icon in your system tray:</p>
					<p>
						<a target="_blank" href="/img/2022/06-SwitchToLinux.png">
							<img alt="Docker Desktop Context Menu with Switch To Linux highlighted" src="/img/2022/06-SwitchToLinux.png">
						</a>
					</p>
					<p>Once that restarts, you'll need to enable the Kubernetes features, because they're not on by default. So click the settings "cog" icon in the top blue bar of the Docker Desktop window, and turn it on from the config window:</p>
					<p>
						<a target="_blank" href="/img/2022/06-EnableKubernetes.png">
							<img alt="The Docker Desktop settings window, with Kubernetes enabled" src="/img/2022/06-EnableKubernetes.png">
						</a>
					</p>
					<p>Once you've ticked that, you'll need to click "Apply &amp; Restart". It may warn you it needs to do some downloading and that you'll need to have your internet connection working:</p>
					<p>
						<a target="_blank" href="/img/2022/06-ConfirmKubernetesChanges.png">
							<img alt="Dockers confirm dialog, for downloading Kubernetes" src="/img/2022/06-ConfirmKubernetesChanges.png">
						</a>
					</p>
					<p>Once you click "install" it will think for a bit, before restarting with a new engine icon in the bottom of the Docker Desktop window:</p>
					<p>
						<a target="_blank" href="/img/2022/06-K8s-Icon.png">
							<img alt="The K8s engine icon alongside the Docker engine one" src="/img/2022/06-K8s-Icon.png">
						</a>
					</p>
					<h3 id="make-sure-you-have-helm">2. Make sure you have Helm</h3>
					<p>If you don't have it installed already, then you can
						<a href="https://get.helm.sh/helm-v3.9.0-windows-amd64.zip" target="_blank" rel="noopener">download the Helm for Windows executable</a>
						and unzip it into a suitable working directory. You can keep it in the current directory for experiments, or stick it somewhere central and add it to the path if you're going to use it for other tasks too.</p>
					<h3 id="prepare-helm-and-kubernetes-to-set-up-solr">3. Prepare Helm and Kubernetes to set up Solr</h3>
					<p>You'll need an ingress controller. The default setup for that is simple:</p>
					<pre class="code" data-enlighter-theme="droide-text" data-enlighter-language="text" style="width:100%; overflow:scroll;">kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/static/provider/cloud/deploy.yaml`

					</pre>
					<p>And that will quickly set up all the relevant resources for
						<a href="https://www.nginx.com/" target="_blank" rel="noopener">Nginx</a>:</p>
					<p>
						<a target="_blank" href="/img/2022/06-IngressInstalled.png">
							<img alt="Screenshot showing that the Ingress Controller is installed" src="/img/2022/06-IngressInstalled.png">
						</a>
					</p>
					<p>In the real world you'll need some DNS entries provided for the resources you're creating - but for a quick local demo it's easiest to add host file entries. There are a few here, because your Solr cluster needs to have names for the overall cluster, plus each of the individual Solr instances in the cluster:</p>
					<pre class="code" data-enlighter-theme="droide-text" data-enlighter-language="text" style="width:100%; overflow:scroll;">127.0.0.1	default-example-solrcloud.ing.local.domain ing.local.domain default-example-solrcloud-0.ing.local.domain default-example-solrcloud-1.ing.local.domain default-example-solrcloud-2.ing.local.domain dinghy-ping.localhost

					</pre>
					<p>And then you can get the Helm charts required for the setup, and make sure they're up to date:</p>
					<pre class="code" data-enlighter-theme="droide-text" data-enlighter-language="text" style="width:100%; overflow:scroll;">helm repo add apache-solr https://solr.apache.org/charts
helm repo update

					</pre>
					<p>The last step here is to install Operator itself. That requires two things. The first is some Custom Resource Definitions (CRDs) for Kubernetes, which can be installed via
						<code>kubectl</code>
						and then the second is to use Helm to install the Operators:</p>
					<pre class="code" data-enlighter-theme="droide-text" data-enlighter-language="text" style="width:100%; overflow:scroll;">kubectl create -f https://solr.apache.org/operator/downloads/crds/v0.5.1/all-with-dependencies.yaml
helm install solr-operator apache-solr/solr-operator --version 0.5.1

					</pre>
					<p>The CRDs define common settings for things like Operator, SolrCloud, the extensions provided and backups. CRDs pull these together into custom resources in Kubernetes - which makes it easier for you to manage. They describe the config schema for these things to Kubernetes, so that when Operator creates instances of them, the correct data gets set up.</p>
					<p>From the command line, they install themselves easily:</p>
					<p>
						<a target="_blank" href="/img/2022/06-OperatorInstalled.png">
							<img alt="Console output from installing dependencies and Operator" src="/img/2022/06-OperatorInstalled.png">
						</a>
					</p>
					<p>And once they're run, you can see the containers for Nginx, and the Operator containers for both Solr and Zookeeper:</p>
					<p>
						<a target="_blank" href="/img/2022/06-RunningContainers.png">
							<img alt="Containers for Operator and Ingress running in Docker Desktop" src="/img/2022/06-RunningContainers.png">
						</a>
					</p>
					<h3 id="provision-an-instance-of-solrcloud">3. Provision an instance of SolrCloud</h3>
					<p>So once that's all in place, you're ready to fire up some Solr...</p>
					<p>That's done by running the following
						<code>helm</code>
						command:</p>
					<pre class="code" data-enlighter-theme="droide-text" data-enlighter-language="text" style="width:100%; overflow:scroll;">helm install example-solr apache-solr/solr --version 0.5.1
  --set image.tag=8.8.2
  --set addressability.external.method=Ingress
  --set addressability.external.domainName="ing.local.domain"
  --set addressability.external.useExternalAddress="true"
  --set ingressOptions.ingressClassName="nginx"

					</pre>
					<p>(This should all be on one line, but it's easier to read with some line breaks for clarity)</p>
					<p>Breaking it down, it's telling Helm to
						<code>install</code>
						an SolrCloud instance named
						<code>example-solr</code>
						using the
						<code>apache-solr/solr</code>
						templates that got installed in the step 3 above. The
						<code>--version 0.5.1</code>
						is specifying what version of the Operator templates are being used (and that's the latest version as I write this).</p>
					<p>And then the rest of the options are setting parameters for the install itself. This is where you can do most of the customisising of the setup to suit your needs. Each of these parameters gets prefixed with the
						<code>--set</code>
						command to tell Helm that you're providing a value for one of the custom settings.</p>
					<p>The important one here for Sitecore users is the
						<code>image.tag</code>
						wich specifies the version tag for which Solr you want installed -
						<code>8.8.2</code>
						here is the right one for Sitecore 10. The other parameters give here are to do with how you access Solr via the ingress controller - but there are lots of options,
						<a href="https://artifacthub.io/packages/helm/apache-solr/solr#chart-values" target="_blank" rel="noopener">documented with the chart</a>
						and with some other explanations on the
						<a href="https://apache.github.io/solr-operator/docs/solr-cloud/solr-cloud-crd.html" target="_blank" rel="noopener">Operator website</a>.</p>
					<p>So in a "real" deployment you need to do a bit of thinking about these settings, but the defaults above will work for a demo. But when you run it, you get some status info:</p>
					<p>
						<a target="_blank" href="/img/2022/06-InstallingSolr.png">
							<img alt="Output from the Solr Helm chart running" src="/img/2022/06-InstallingSolr.png">
						</a>
					</p>
					<p>And you can check the status of the deployment as it proceeds using
						<code>kubectl get solrclouds -w</code>
						in order to wait for it to complete. Initially the "ReadyNodes" field will be smaller than the "DesiredNodes" one:</p>
					<p>
						<a target="_blank" href="/img/2022/06-Status.png">
							<img alt="Kubernetes showing that the set of nodes is not yet ready" src="/img/2022/06-Status.png">
						</a>
					</p>
					<p>Note how because of those custom resources installed above "solrclouds" is a resource type you can
						<code>get</code>
						here - Operator has enhanced the behaviour of
						<code>kubectl</code>
						to make life easier. And once it's finished (which can take a while the first time) those two fields will match:</p>
					<p>
						<a target="_blank" href="/img/2022/06-SuccessStatus.png">
							<img alt="Kubernetes with its node deployments complete" src="/img/2022/06-SuccessStatus.png">
						</a>
					</p>
					<p>And you'll have lots of containers running - adding your three Zookeepers, three Solrs and other bits:</p>
					<p>
						<a target="_blank" href="/img/2022/06-ContainersForSolr.png">
							<img alt="Docker UI showing all the containers for a SolrCloud instance" src="/img/2022/06-ContainersForSolr.png">
						</a>
					</p>
					<p>Now at this point you should be able to browse the Solr UI at the URL
						<code>http://default-example-solrcloud.ing.local.domain/solr/</code>
						but you may encounter an issue here...</p>
					<p>If you get a 404 error from Nginx saying it can't see Solr, then you'll need to
						<a href="https://github.com/apache/solr-operator/issues/424" target="_blank" rel="noopener">make a small tweak to the settings for the ingress controller</a>. You can run
						<code>kubectl edit ingress example-solrcloud-common</code>
						to get it to open an editor to modify the settings for your ingress controller resource. And you need to add this line into the file after the
						<code>annotations</code>
						line:</p>
					<pre class="code" data-enlighter-highlight="9" data-enlighter-language="language=yaml" style="width:100%; overflow:scroll;"># Please edit the object below. Lines beginning with a '#' will be ignored,
# and an empty file will abort the edit. If an error occurs while saving this file will be
# reopened with the relevant failures.
#
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/backend-protocol: HTTP
  creationTimestamp: "2022-06-23T20:40:25Z"
  generation: 1
  labels:

					</pre>
					<p>(Or you can make a patch file and use the
						<code>kubernetes patch</code>
						file to apply it, if you prefer a more automated approach)</p>
					<p>And the save the file to update the settings. And that should fix the
						<code>404</code>
						issue, and you should get access to Solr:</p>
					<p>
						<a target="_blank" href="/img/2022/06-SolrRunning.png">
							<img alt="The Solr UI running" src="/img/2022/06-SolrRunning.png">
						</a>
					</p>
					<p>And now you have a nice target for a Sitecore SolrCloud init container to set up all your collections...</p>
					<h2 id="but-what-about-more-production-ready-situations">But what about more production-ready situations?</h2>
					<p>From what the documentation says, these scripts are designed for creating production setups. But there are a few things you need to make sure you think about, and pass the appropriate setup parameters for:</p>
					<ol>
						<li>
							<p>
								<strong>Persistent storage</strong>
							</p>
							<p>By default, any data that gets stored by a Kubernetes container is temporary. Anything that gets written to a container is lost if that container gets stopped and a new instance started. So if you need services in your cluster to have permenant data, you have to configure it. There seem to be two broad approaches here:</p>
							<ul>
								<li>You can let Kubernetes sort it out, and just tell Operator you want to have persistent data, and how big the stores for each container you run should be. It can allocate its own storage and manage this for you. This is fairly easy to achieve, as you just need to apply the
									<code>--set datastorage.type="persistent"</code>
									setting to enable it, and optionally
									<a href="https://artifacthub.io/packages/helm/apache-solr/solr#data-storage-options" target="_blank" rel="noopener">set things like max size, reclamation policy or the particular disk resource type to use</a>. But this means you don't own the lifetime of the resources provided.</li>
								<li>Or I think you can provision your own cloud storage resources, and provide these to Kubernetes for its use. This is a bit more complex to achieve, as you need to customise the Kubernetes config a bit to provide your own
									<code>PersistentVolume</code>
									resources for Solr to make claims against. But it should give you full control over the resources provisioned.</li>
							</ul>
						</li>
						<li>
							<p>
								<strong>TLS</strong>
							</p>
							<p>Out of the box, the SolrCloud instance provided by Operator is only available on Port 80. Inside a network you control, you might consider that acceptable. But if you're exposing these services outside of your private network, or you're dealing with data that you want to be encrypted in transit then you will need to add TLS settings to your config.</p>
							<p>There are multiple choices to configure here. You can set up TLS for the individual Solr and Zookeeper nodes, so that all the traffic inside and out of the Kubernetes cluster uses SSL.</p>
						</li>
						<li>
							<p>
								<strong>Authentication</strong>
							</p>
							<p>It's not common requirement for the sort of "private" Solr instance you run inside your network for Sitecore, but you might want to apply security to your SolrCloud instance. By default instances set up using Operator are anonymously accessible, but there are
								<a href="https://apache.github.io/solr-operator/docs/solr-cloud/solr-cloud-crd.html#authentication-and-authorization" target="_blank" rel="noopener">plenty of options for configuring security if you do need it</a>.</p>
						</li>
					</ol>
					<h2 id="conclusions">Conclusions</h2>
					<p>I think this is a really good addition to your infrastructure toolbox for Sitecore deployments. If you're choosing to run your own Solr in containers this is definitely the easiest setup approach I've discoverd so far. And since it's part of the Apache Foundation's projects you know it's going to do things right...</p>
					<a class="gotop" href="#top">↑ Back to top</a>
				</div>
				<div class="sidebar lg:flex-none lg:w-64 m-0 mt-1 lg:mt-0 lg:p-1 lg:bg-gray-100">
					<div class="md:flex-row md:flex lg:flex-col">
						<section class="md:flex-2 md:flex-grow md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0 whitespace-nowrap">Recent Tags</h3>
							<div class="bg-white p-2 flex flex-wrap">
								<a href="/tags/sitecore/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Sitecore
								</a>
								<a href="/tags/docker/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Docker
								</a>
								<a href="/tags/containers/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Containers
								</a>
								<a href="/tags/symposium/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Symposium
								</a>
								<a href="/tags/visual-studio/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Visual Studio
								</a>
								<a href="/tags/graphql/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									GraphQL
								</a>
								<a href="/tags/sql-server/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									SQL Server
								</a>
								<a href="/tags/general/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									General
								</a>
								<a href="/tags/data-templates/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Data Templates
								</a>
								<a href="/tags/powershell/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									PowerShell
								</a>
							</div>
						</section>
						<section class="md:flex-2 md:flex-grow md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0 whitespace-nowrap">Top Tags</h3>
							<div class="bg-white p-2 flex flex-wrap">
								<a href="/tags/sitecore/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Sitecore (234)</a>
								<a href="/tags/c/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									C# (62)</a>
								<a href="/tags/powershell/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									PowerShell (32)</a>
								<a href="/tags/installation/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Installation (23)</a>
								<a href="/tags/solr/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Solr (19)</a>
								<a href="/tags/docker/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Docker (18)</a>
								<a href="/tags/general/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									General (18)</a>
								<a href="/tags/containers/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Containers (17)</a>
								<a href="/tags/ui/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									UI (15)</a>
								<a href="/tags/visual-studio/" class="flex-initial text-lg p-1 mr-1 bg-gray-100 rounded-md mt-1">
									Visual Studio (12)</a>
							</div>
							<div class="bg-white mb-2 p-2">
								<a class="text-lg" href="/tags" role="button">All Tags
									<i class="fas fa-angle-double-right"></i>
								</a>
							</div>
						</section>
						<section class="md:flex-2 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink-0">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0 whitespace-nowrap">Recent Months</h3>
							<div class="bg-white p-2">
								<div>
									<a class="text-lg" href="/posts/2024-09">2024 - September</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2024-08">2024 - August</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2024-07">2024 - July</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2024-06">2024 - June</a>
								</div>
								<div>
									<a class="text-lg" href="/posts/2024-05">2024 - May</a>
								</div>
							</div>
							<div class="bg-white mb-2 p-2">
								<a class="text-lg" href="/posts" role="button">All Months
									<i class="fas fa-angle-double-right"></i>
								</a>
							</div>
						</section>
						<section class="md:flex-1 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink">
							<h3 class="bg-gray-300 p-2 md:border-r-2 md:border-white lg:border-r-0 whitespace-nowrap">Socials</h3>
							<div class="bg-white mb-2 p-2">
								<table>
									<tbody>
										<tr>
											<td class="border-0">
												<a rel="me" target="_blank" href="https://mastodon.social/@jermdavis">
													<img src="/img/mastodon.png" width="32" height="32" alt="Mastodon Logo">
												</a>
											</td>
											<td class="border-0 md:hidden sm:table-cell lg:table-cell">
												<a class="text-lg ml-2" rel="me" target="_blank" href="https://mastodon.social/@jermdavis">
													Mastodon
												</a>
											</td>
										</tr>
										<tr>
											<td class="border-0">
												<a rel="me" target="_blank" href="https://bsky.app/profile/jermdavis.dev">
													<img src="/img/bluesky.png" width="32" height="32" alt="Bluesky Logo">
												</a>
											</td>
											<td class="border-0 md:hidden sm:table-cell lg:table-cell">
												<a class="text-lg ml-2" rel="me" target="_blank" href="https://bsky.app/profile/jermdavis.dev">
													Bluesky
												</a>
											</td>
										</tr>
										<tr>
											<td class="border-0">
												<a rel="me" target="_blank" href="https://www.linkedin.com/in/djdavis/">
													<img src="/img/linkedin.png" width="32" height="32" alt="LinkedIn Logo">
												</a>
											</td>
											<td class="border-0 md:hidden sm:table-cell lg:table-cell">
												<a class="text-lg ml-2" rel="me" target="_blank" href="https://www.linkedin.com/in/djdavis/">
													LinkedIn
												</a>
											</td>
										</tr>
										<tr>
											<td class="border-0">
												<a rel="me" target="_blank" href="https://sitecorechat.slack.com/team/U73KL641G">
													<img src="/img/slack.png" width="32" height="32" alt="Sitecore Slack Logo">
												</a>
											</td>
											<td class="border-0 md:hidden sm:table-cell lg:table-cell">
												<a class="text-lg ml-2" rel="me" target="_blank" href="https://sitecorechat.slack.com/team/U73KL641G">
													Sitecore Slack
												</a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</section>
						<section class="mvp md:flex-2 md:border-l-2 md:border-gray-300 lg:border-l-0 md:flex-shrink-0 lg:order-first">
							<h3 class="bg-gray-300 p-2 whitespace-nowrap">Sitecore MVP 2015-2024</h3>
							<div class="bg-white mb-2 p-2">
								<a href="/mvp">
									<img class="lg:mx-auto" src="/img/mvp/10yrs.png" width="219" height="219" alt="2024 MVP Badge">
								</a>
							</div>
						</section>
					</div>
				</div>
			</div>
		</div>
		<footer class="lg:flex order-1 bg-gray-100 px-4 lg:px-6 py-4">
			<div class="flex-1 lg:flex-1 text-center lg:text-left">
				<div>©
					<a target="_blank" class="font-medium" rel="noopener" href="https://jermdavis.dev/">Jeremy Davis</a>
					2014-2024</div>
			</div>
			<div class="lg:flex-1 lg:order-3 text-center lg:text-right">
				<a class="font-medium" href="/tools">Published using Statiq</a>
				<br>
			</div>
			<ul class="list-none lg:flex-1 lg:order-2 p-0 text-center lg:align-middle" style="margin:0px !important">
				<li class="inline-block">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
					</svg>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.rss">RSS</a>
				</li>
				<li class="inline-block ml-4">
					<a class="font-medium" target="_blank" href="/feed.atom">Atom</a>
				</li>
			</ul>
		</footer>
		<div class="min-h-screen bg-gray-300 py-6 flex flex-col justify-center sm:py-12" x-data="{ hide_banner: true }" x-init="hide_banner = docCookies.hasItem('hide_banner');" x-bind:class="{ 'hidden': hide_banner, 'fixed': !hide_banner }">
			<div class="border-2 border-gray-600 bg-gray-100 max-w-screen-lg mx-auto fixed bg-white inset-x-5 p-5 bottom-10 rounded-lg drop-shadow-2xl flex gap-4 flex-wrap md:flex-nowrap text-center md:text-left items-center justify-center md:justify-between">
				<div class="w-full text-lg">
					<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage" rel="noreferrer" target="_blank">This website uses Google Analytics, and its cookies.</a>
				</div>
				<button type="button" @click="hide_banner = true; docCookies.setItem('hide_banner', true, 'Fri, 31 Dec 9999 23:59:59 GMT', null, null, null, 'strict');" class="bg-gray-400 px-5 py-2 text-white rounded-md hover:bg-gray-600 focus:outline-none" aria-label="Dismiss">Understood</button>
			</div>
		</div>
		<script src="/vendor/Alpine/alpine.3.13.3.min.js" defer=""></script>
		<script src="/vendor/Enlighter/enlighterjs.min.js"></script>
		<script type="text/javascript">
            EnlighterJS.init('pre.code', 'code', {
            theme: 'droide',
            indent : 4,
            linehover : false,
            textOverflow: 'scroll',
            toolbarTop: '',
            toolbarBottom: ''
        });
        
		</script>
		<script src="/vendor/rp/rpbar-1.0.js"></script>
		<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JQ44ZR47YX"></script>
		<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-JQ44ZR47YX');
    
		</script>
	</body>
</html>